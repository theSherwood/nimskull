<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>compiler/mir/mirtrees</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">compiler/mir/mirtrees</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="style_guide.html">Style guide</a></li>
      <li><a href="contributing.html">Contribution guide</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li><a href="../theindex.html">Index</a></li>
      <li><a href="compiler/../theindex.html">Compiler docs</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#EffectKind"
    title="EffectKind = enum
  ekMutate,                 ## the value in the location is mutated
  ekReassign,               ## a new value is assigned to the location
  ekKill, ## the value is removed from the location (without observing
           ## it), leaving the location empty
  ekInvalidate ## all knowledge and assumptions about the location and its
               ## value become outdated. The state of it is now completely
               ## unknown">EffectKind</a></li>
  <li><a class="reference" href="#GeneralEffect"
    title="GeneralEffect = enum
  geMutateGlobal,           ## the operation mutates global state
  geRaises                   ## the operation is a source of exceptional control-flow">GeneralEffect</a></li>
  <li><a class="reference" href="#LabelId"
    title="LabelId = distinct uint32">LabelId</a></li>
  <li><a class="reference" href="#MirNode"
    title="MirNode = object
  typ*: PType                ## must be non-nil for operators, inputs, and sinks
  case kind*: MirNodeKind
  of mnkProc, mnkConst, mnkGlobal, mnkParam, mnkLocal:
      sym*: PSym

  of mnkField, mnkPathNamed, mnkPathVariant:
      field*: PSym

  of mnkLiteral:
      lit*: PNode

  of mnkTemp:
      temp*: TempId

  of mnkPathPos:
      position*: uint32      ## the 0-based position of the field
    
  of mnkCall:
      effects*: set[GeneralEffect]

  of mnkMagic:
      magic*: TMagic

  of mnkOpParam:
      param*: uint32         ## the 0-based index of the enclosing region's parameter
    
  of mnkBlock, mnkBreak:
      label*: LabelId ## for a block, its label. A block always must always
                      ## have a valid label ('none' is disallowed).
                      ## for a break, the label of the block to break out of.
                      ## May be 'none', in which case it means &quot;exit the
                      ## enclosing 'repeat'&quot;
    
  of mnkEnd:
      start*: MirNodeKind    ## the kind of the corresponding start node
    
  of mnkPNode:
      node*: PNode

  of mnkTag:
      effect*: EffectKind    ## the effect that happens when the operator the
                             ## tagged value is passed to is executed
    
  else:
      len*: int">MirNode</a></li>
  <li><a class="reference" href="#MirNodeKind"
    title="MirNodeKind = enum
  mnkProc,                  ## procedure
  mnkConst,                 ## named constant
  mnkGlobal,                ## global location
  mnkParam,                 ## parameter
  mnkLocal,                 ## local location
  mnkTemp, ## temporary; Semantics-wise, a ``mnkTemp`` is the same as a
            ## ``mnkLocal``, but a different namespace is used (``TempId``
            ## vs. ``PSym``). This allows for cheap introduction of locals
  mnkOpParam, ## references a parameter of the enclosing region
               ## XXX: see if it's possible to merge this with ``mnkParam``,
               ##      by treating a procedure's body as a region itself
  mnkLiteral,               ## literal data. Currently represented via a ``PNode``
  mnkType,                  ## a type literal
  mnkNone, ## the &quot;nothing&quot; value. Represents the absence of a value.
            ## To ease the back-to-``PNode`` translation, this node is
            ## currently allowed to have a non-nil type.
  mnkDef, ## defines an entity and, if the entity is a location, starts
           ## its lifetime (if the entity is a location). If the entity
           ## is a location, the ``def`` can be either a *sink* or a
           ## statement -- it must be a statement otherwise
  mnkDefCursor, ## starts the lifetime of a location that is non-owning. The
                 ## location may or may not contain a value and is not
                 ## responsible for destroying it
                 ## inputs: either a single value (no arg-block) or none
  mnkDefUnpack, ## starts the lifetime of a location that owns a *tuple*
                 ## value but is not responsible for destroying it, as all
                 ## sub-values are moved out of it
                 ## **Warning**: this is a hack and it should be relied on as
                 ## little as possible. It's a workaround to support the
                 ## temporary tuple values introduced for destructuring.
  mnkFastAsgn, ## ``fastAsgn(dst, src)``; assigns the `src` value to the location
                ## named by the lvalue `dst`. Neither the previous value in the
                ## destination location nor the source value are mutated in any
                ## way. No transfer of ownership happens.
  mnkAsgn, ## ``asgn(dst, src)``; assigns the `src` value to the location
            ##  named by `dst`, also transferring onwership.
  mnkInit, ## ``init(dst, src)``; similar to `asgn`, but with the
            ## guarantee that the destination contains no value prior
  mnkSwitch, ## ``switch(x, y)``; changes the active branch of the record-case
              ## identified by the result of the ``pathVariant`` operation used
              ## as the `x` operand. `y` is the new discriminator value
  mnkPathNamed,             ## access of a named field in a record
  mnkPathPos,               ## access of a field in record via its position
  mnkPathArray,             ## ``pathArray(x, i)``; array-like access
  mnkPathVariant, ## access a field inside a tagged union
                   ## XXX: this is likely only a temporary solution. Each
                   ##      record-case part of an object should be its own
                   ##      dedicated object type, which can then be addressed
                   ##      as a normal field
  mnkAddr, ## ``addr(x)``; creates a first-class unsafe alias/handle (i.e.
            ## pointer) from the input lvalue `x`
  mnkDeref, ## ``deref(x)``; dereferences the pointer-like `x` (this
             ## *excludes* views), producing an lvalue that has same identity
             ## as the pointed-to location
             ## XXX: the possibility of invalid pointers (e.g. nil pointer) is
             ##      currently ignored
  mnkView,                  ## ``view(x)``; creates a safe alias of the l-value 'x'
  mnkDerefView, ## ``derefView(x)``; dereferences a view, producing the lvalue
                 ## named by it
  mnkStdConv, ## ``stdConv(x)``; a standard conversion. Depending on the
               ## source and target type, lvalue-ness is preserved
  mnkConv, ## ``conv(x)``; a conversion. Depending on the source and
            ## target type, lvalue-ness is preserved
  mnkCast, ## ``cast(x)``; produces a new *instance* of the input value
            ## with a different type
  mnkCall, ## ``call(p, ...)``; transfers control-flow (i.e. calls) the
            ## procedure that `p` evaluates to and passes the provided
            ## arguments
  mnkMagic,                 ## ``magic(...)``; a call to a magic procedure
  mnkRaise, ## ``raise(x)``; if `x` is a ``none`` node, reraises the
             ## currently active exception. If `x` is a value, transfers the
             ## ownership over it to the raise operation and transfers
             ## control-flow to the respective exception handler
  mnkTag, ## ``tag[T](x)``; must only appear directly as the input to
           ## either a ``name`` sink. Marks evaluating the operator that
           ## has the result of the tag operation as input as having the
           ## specified effect on the location named by l-value `x`
  mnkConstr, ## ``constr(...)``; constructs a new compound value made up of
              ## the input values. Whether the resulting value is owned
              ## depends on whether one the context it's used in
  mnkObjConstr, ## ``objConstr(...)``; either heap-allocates and initializes
                 ## a new managed location, or constructs a new compound value
                 ## with named fields
  mnkArg, ## binds either an instance of the input value or the value
           ## itself to an argument
  mnkName,                  ## binds an lvalue to an argument
  mnkConsume, ## similar to ``arg``, but also transfers ownership over the
               ## value from the source to the operation taking the argument
               ## as input. The source value *must* be an owned value.
               ## **Note**: the transfer of ownership happens when the
               ## value is bound to the argument, not when control-flow reaches
               ## the target operation
  mnkVoid, ## the 'void' sink. Discards the input value without doing
            ## anything else with it
  mnkField, ## may only appear as a sub-node to ``mnkObjConstr``. Identifies
             ## the record field the corresponding argument is assigned to
  mnkArgBlock, ## an argument block groups the operands to an operation
                ## together, and is required whenever an operation takes more
                ## than one operand -- whether an argumnet block is required for
                ## when there's only a single operand depends on the
                ## corresponding operation
  mnkRegion, ## a region is something that accepts arguments (provided by a
              ## 
              ## mandatory arg-block) and performs some logic that is required
              ## to 
              ## only have the effects described by the argument tags. This
              ## also 
              ## includes control-flow effects, e.g. raising an exception
              ## that is not handled inside the region. Right now, 
              ## definitions
              ## inside a region are allowed, but this might change in the
              ## future
  mnkStmtList,              ## groups statements together
  mnkScope, ## the only way to introduce a scope. Scopes can be nested and
             ## dictate the lifetime of the locals that are directly enclosed
             ## by them
  mnkIf, ## ``if(x)``; depending on the runtime value of `x`, transfers
          ## control-flow to either the start or the end of the code, the
          ## ``if`` spans
  mnkCase, ## ``case(x)``; depending on the runtime value of `x`, transfers
            ## control-flow to the start of one of its branches
  mnkRepeat, ## once control-flow reaches this statement, control-flow is
              ## transfered to start of its body. Once control-flow reaches
              ## the end of the body, it is transfered back to the start. In
              ## other words, repeats its body an infinite number of times
  mnkTry, ## associates one one or more statements (the first sub-node)
           ## with: an exception handler, a finalizer, or both
  mnkExcept, ## defines and attaches an exception handler to a ``try`` block.
              ## Only one handler can be attached to a ``try`` block
  mnkFinally, ## defines a finalizer in the context of a ``try`` construct. All
               ## control-flow that either leaves the body of the ``try`` and
               ## does not target the exception handler (if one is present) or
               ## that leaves the exception handler is redirected to inside the
               ## finalizer first. Once control-flow reaches the end of a
               ## finalizer, it is transferred to the original destination. Only
               ## one finalizer can be attached to a ``try`` block
  mnkBlock, ## attaches a label to a span of code. If control-flow reaches
             ## this statement, it is transferred to the start of the body.
             ## Once control-flow reaches the end of a ``block``, it is
             ## transferred to the next statement/operation following the
             ## block
  mnkBreak, ## if a non-nil label is provided, transfers control-flow to the
             ## statement/operation following after the ``block`` with the
             ## given label. If no label is provided, control-flow is
             ## transferred to the exit of the enclosing ``repeat`` (it is
             ## required that there exists one)
  mnkReturn, ## if the code-fragment represents the body of a procedure,
              ## transfers control-flow back to the caller
  mnkBranch,                ## defines a branch of an ``mnkExcept`` or ``mnkCase``
  mnkAsm, ## corresponds to the high-level ``asm`` statement. Takes an
           ## argument block as input, but has itself no meaning at the MIR
           ## level
  mnkEmit, ## corresponds to the ``emit`` directive. In the context of the
            ## MIR, has the same behaviour as ``mnkAsm``
  mnkEnd, ## marks the physical end of a sub-tree. Has no semantic
           ## meaning -- it's only required to know where a sub-tree ends
  mnkPNode ## depending on the context, either statement or something else.
           ## If it appears as a statement, it is expected to not have any
           ## obsersvable effects
           ## XXX: eventually, everything that currently requires
           ##      ``mnkPNode`` (for example, ``nkAsmStmt``, emit, etc.)
           ##      should be expressable directly in the IR">MirNodeKind</a></li>
  <li><a class="reference" href="#MirNodeSeq"
    title="MirNodeSeq = seq[MirNode]">MirNodeSeq</a></li>
  <li><a class="reference" href="#MirTree"
    title="MirTree = seq[MirNode]">MirTree</a></li>
  <li><a class="reference" href="#NodeIndex"
    title="NodeIndex = uint32">NodeIndex</a></li>
  <li><a class="reference" href="#NodeInstance"
    title="NodeInstance = distinct range[0'u32 .. high(uint32) - 1]">NodeInstance</a></li>
  <li><a class="reference" href="#NodePosition"
    title="NodePosition = distinct int32">NodePosition</a></li>
  <li><a class="reference" href="#Operation"
    title="Operation = distinct uint32">Operation</a></li>
  <li><a class="reference" href="#OpValue"
    title="OpValue = distinct uint32">OpValue</a></li>
  <li><a class="reference" href="#TempId"
    title="TempId = distinct uint32">TempId</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#AllNodeKinds"
    title="AllNodeKinds = {mnkProc..mnkPNode}">AllNodeKinds</a></li>
  <li><a class="reference" href="#ArgumentNodes"
    title="ArgumentNodes = {mnkArg, mnkName, mnkConsume}">ArgumentNodes</a></li>
  <li><a class="reference" href="#AtomNodes"
    title="AtomNodes = {mnkProc..mnkNone, mnkFastAsgn..mnkConstr, mnkArg..mnkField,
             mnkBreak..mnkReturn, mnkAsm..mnkPNode}">AtomNodes</a></li>
  <li><a class="reference" href="#DefNodes"
    title="DefNodes = {mnkDef, mnkDefCursor, mnkDefUnpack}">DefNodes</a></li>
  <li><a class="reference" href="#InOutNodes"
    title="InOutNodes = {mnkMagic, mnkCall, mnkPathNamed..mnkPathVariant, mnkConstr,
              mnkObjConstr, mnkView, mnkTag, mnkCast, mnkDeref, mnkAddr,
              mnkDerefView, mnkStdConv, mnkConv}">InOutNodes</a></li>
  <li><a class="reference" href="#InputNodes"
    title="InputNodes = {mnkProc..mnkNone, mnkArgBlock}">InputNodes</a></li>
  <li><a class="reference" href="#NoLabel"
    title="NoLabel = 0'u">NoLabel</a></li>
  <li><a class="reference" href="#OutputNodes"
    title="OutputNodes = {mnkDef..mnkSwitch, mnkRaise, mnkVoid, mnkRegion, mnkIf..mnkCase,
               mnkAsm..mnkEmit}">OutputNodes</a></li>
  <li><a class="reference" href="#SingleInputNodes"
    title="SingleInputNodes = {mnkAddr..mnkDeref, mnkDerefView, mnkConv..mnkCast,
                    mnkRaise..mnkTag, mnkArg..mnkVoid, mnkIf..mnkCase}">SingleInputNodes</a></li>
  <li><a class="reference" href="#SourceNodes"
    title="SourceNodes = {mnkProc..mnkNone, mnkPathNamed..mnkMagic, mnkTag..mnkObjConstr,
               mnkArgBlock}">SourceNodes</a></li>
  <li><a class="reference" href="#StmtNodes"
    title="StmtNodes = {mnkDef..mnkDefUnpack, mnkScope, mnkRepeat..mnkTry,
             mnkBlock..mnkReturn, mnkPNode}">StmtNodes</a></li>
  <li><a class="reference" href="#SubTreeNodes"
    title="SubTreeNodes = {mnkDef..mnkDefUnpack, mnkObjConstr, mnkArgBlock..mnkBlock,
                mnkBranch}">SubTreeNodes</a></li>
  <li><a class="reference" href="#SymbolLike"
    title="SymbolLike = {mnkProc, mnkConst, mnkGlobal, mnkParam, mnkLocal}">SymbolLike</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section"><
      <li><a class="reference" href="#%3C%2CNodePosition%2CNodePosition"
    title="`&lt;`(a, b: NodePosition): bool">`&lt;`(a, b: NodePosition): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section"><=
      <li><a class="reference" href="#%3C%3D%2CNodePosition%2CNodePosition"
    title="`&lt;=`(a, b: NodePosition): bool">`&lt;=`(a, b: NodePosition): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">==
      <li><a class="reference" href="#%3D%3D%2CLabelId%2CLabelId"
    title="`==`(a, b: LabelId): bool">`==`(a, b: LabelId): bool</a></li>
  <li><a class="reference" href="#%3D%3D%2CNodePosition%2CNodePosition"
    title="`==`(a, b: NodePosition): bool">`==`(a, b: NodePosition): bool</a></li>
  <li><a class="reference" href="#%3D%3D%2COperation%2COperation"
    title="`==`(a, b: Operation): bool">`==`(a, b: Operation): bool</a></li>
  <li><a class="reference" href="#%3D%3D%2CTempId%2CTempId"
    title="`==`(a, b: TempId): bool">`==`(a, b: TempId): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">child
      <li><a class="reference" href="#child%2CMirTree%2CNodePosition%2Cint"
    title="child(tree: MirTree; n: NodePosition; index: int): lent MirNode">child(tree: MirTree; n: NodePosition; index: int): lent MirNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">childIdx
      <li><a class="reference" href="#childIdx%2CMirTree%2CNodePosition%2Cint"
    title="childIdx(tree: MirTree; n: NodePosition; index: int): NodePosition">childIdx(tree: MirTree; n: NodePosition; index: int): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">computeSpan
      <li><a class="reference" href="#computeSpan%2CMirTree%2CNodePosition"
    title="computeSpan(tree: MirTree; n: NodePosition): Slice[NodePosition]">computeSpan(tree: MirTree; n: NodePosition): Slice[NodePosition]</a></li>

  </ul>
  <ul class="simple nested-toc-section">fetchArgs
      <li><a class="reference" href="#fetchArgs%2CMirTree%2COperation%2CopenArray%5BNodePosition%5D"
    title="fetchArgs(tree: MirTree; op: Operation; result: var openArray[NodePosition])">fetchArgs(tree: MirTree; op: Operation; result: var openArray[NodePosition])</a></li>

  </ul>
  <ul class="simple nested-toc-section">findEnd
      <li><a class="reference" href="#findEnd%2CMirTree%2CNodePosition"
    title="findEnd(tree: MirTree; n: NodePosition): NodePosition">findEnd(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">findParent
      <li><a class="reference" href="#findParent%2CMirTree%2CNodePosition%2CMirNodeKind"
    title="findParent(tree: MirTree; start: NodePosition; kind: MirNodeKind): NodePosition">findParent(tree: MirTree; start: NodePosition; kind: MirNodeKind): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">getStart
      <li><a class="reference" href="#getStart%2CMirTree%2CNodePosition"
    title="getStart(tree: MirTree; n: NodePosition): NodePosition">getStart(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">hasInput
      <li><a class="reference" href="#hasInput%2CMirTree%2COperation"
    title="hasInput(tree: MirTree; op: Operation): bool">hasInput(tree: MirTree; op: Operation): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">in
      <li><a class="reference" href="#in%2CNodePosition%2CMirTree"
    title="`in`(p: NodePosition; tree: MirTree): bool">`in`(p: NodePosition; tree: MirTree): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">isNone
      <li><a class="reference" href="#isNone%2CLabelId"
    title="isNone(x: LabelId): bool">isNone(x: LabelId): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">isSome
      <li><a class="reference" href="#isSome%2CLabelId"
    title="isSome(x: LabelId): bool">isSome(x: LabelId): bool</a></li>

  </ul>
  <ul class="simple nested-toc-section">numArgs
      <li><a class="reference" href="#numArgs%2CMirTree%2COperation"
    title="numArgs(tree: MirTree; op: Operation): int">numArgs(tree: MirTree; op: Operation): int</a></li>

  </ul>
  <ul class="simple nested-toc-section">operand
      <li><a class="reference" href="#operand%2CMirTree%2COperation%2CNatural"
    title="operand(tree: MirTree; op: Operation; opr: Natural): OpValue">operand(tree: MirTree; op: Operation; opr: Natural): OpValue</a></li>

  </ul>
  <ul class="simple nested-toc-section">operands
      <li><a class="reference" href="#operands%2CMirTree%2COperation%2CSlice%5Bint%5D%2CopenArray%5BOpValue%5D"
    title="operands(tree: MirTree; op: Operation; slice: Slice[int];
         result: var openArray[OpValue])">operands(tree: MirTree; op: Operation; slice: Slice[int];
         result: var openArray[OpValue])</a></li>

  </ul>
  <ul class="simple nested-toc-section">parent
      <li><a class="reference" href="#parent%2CMirTree%2CNodePosition"
    title="parent(tree: MirTree; n: NodePosition): NodePosition">parent(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">parentEnd
      <li><a class="reference" href="#parentEnd%2CMirTree%2CNodePosition"
    title="parentEnd(tree: MirTree; n: NodePosition): NodePosition">parentEnd(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">previous
      <li><a class="reference" href="#previous%2CMirTree%2CNodePosition"
    title="previous(tree: MirTree; n: NodePosition): NodePosition">previous(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">sibling
      <li><a class="reference" href="#sibling%2CMirTree%2CNodePosition"
    title="sibling(tree: MirTree; n: NodePosition): NodePosition">sibling(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">start
      <li><a class="reference" href="#start%2CMirTree%2CNodePosition"
    title="start(tree: MirTree; n: NodePosition): NodePosition">start(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">unaryOperand
      <li><a class="reference" href="#unaryOperand%2CMirTree%2COperation"
    title="unaryOperand(tree: MirTree; op: Operation): OpValue">unaryOperand(tree: MirTree; op: Operation): OpValue</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#15" id="65">Iterators</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">lpairs
      <li><a class="reference" href="#lpairs.i%2Cseq%5BT%5D"
    title="lpairs[T](x: seq[T]): (int, lent T)">lpairs[T](x: seq[T]): (int, lent T)</a></li>

  </ul>
  <ul class="simple nested-toc-section">pairs
      <li><a class="reference" href="#pairs.i%2CMirTree"
    title="pairs(tree: MirTree): (NodePosition, lent MirNode)">pairs(tree: MirTree): (NodePosition, lent MirNode)</a></li>

  </ul>
  <ul class="simple nested-toc-section">subNodes
      <li><a class="reference" href="#subNodes.i%2CMirTree%2CNodePosition"
    title="subNodes(tree: MirTree; n: NodePosition): NodePosition">subNodes(tree: MirTree; n: NodePosition): NodePosition</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#16" id="66">Converters</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">toOp
      <li><a class="reference" href="#toOp.c%2COpValue"
    title="toOp(x: OpValue): Operation">toOp(x: OpValue): Operation</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">+
      <li><a class="reference" href="#%2B.t%2CNodePosition%2Cint"
    title="`+`(a: NodePosition; b: int): NodePosition">`+`(a: NodePosition; b: int): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">-
      <li><a class="reference" href="#-.t%2CNodePosition%2Cint"
    title="`-`(a: NodePosition; b: int): NodePosition">`-`(a: NodePosition; b: int): NodePosition</a></li>

  </ul>
  <ul class="simple nested-toc-section">[]
      <li><a class="reference" href="#%5B%5D.t%2CMirTree%2C"
    title="`[]`(tree: MirTree; i: NodePosition | NodeInstance | Operation | OpValue): untyped">`[]`(tree: MirTree; i: NodePosition | NodeInstance | Operation | OpValue): untyped</a></li>
  <li><a class="reference" href="#%5B%5D.t%2CLabelId"
    title="`[]`(x: LabelId): uint32">`[]`(x: LabelId): uint32</a></li>

  </ul>
  <ul class="simple nested-toc-section">dec
      <li><a class="reference" href="#dec.t%2CNodePosition"
    title="dec(a: var NodePosition)">dec(a: var NodePosition)</a></li>

  </ul>
  <ul class="simple nested-toc-section">inc
      <li><a class="reference" href="#inc.t%2CNodePosition"
    title="inc(a: var NodePosition)">inc(a: var NodePosition)</a></li>

  </ul>
  <ul class="simple nested-toc-section">indexLike
      <li><a class="reference" href="#indexLike.t%2Ctypedesc%5BNodeInstance%5D"
    title="indexLike(_: typedesc[NodeInstance])">indexLike(_: typedesc[NodeInstance])</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>This module contains the main definitions that make up the mid-end IR (MIR).</p>
<p>See <a class="reference external" href="mir.html">MIR</a> for the grammar plus a high-level overview of the MIR.</p>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="../ast/ast_types.html">../ast/ast_types</a>, <a class="reference external" href="../utils/idioms.html">../utils/idioms</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="EffectKind">
<dt><pre><a href="mirtrees.html#EffectKind"><span class="Identifier">EffectKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">ekMutate</span><span class="Other">,</span>                 <span class="Comment">## the value in the location is mutated</span>
  <span class="Identifier">ekReassign</span><span class="Other">,</span>               <span class="Comment">## a new value is assigned to the location</span>
  <span class="Identifier">ekKill</span><span class="Other">,</span> <span class="Comment">## the value is removed from the location (without observing</span>
           <span class="Comment">## it), leaving the location empty</span>
  <span class="Identifier">ekInvalidate</span> <span class="Comment">## all knowledge and assumptions about the location and its</span>
               <span class="Comment">## value become outdated. The state of it is now completely</span>
               <span class="Comment">## unknown</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L253"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L253" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="GeneralEffect">
<dt><pre><a href="mirtrees.html#GeneralEffect"><span class="Identifier">GeneralEffect</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">geMutateGlobal</span><span class="Other">,</span>           <span class="Comment">## the operation mutates global state</span>
  <span class="Identifier">geRaises</span>                   <span class="Comment">## the operation is a source of exceptional control-flow</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L262"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L262" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="LabelId">
<dt><pre><a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">uint32</span></pre></dt>
<dd>

ID of a label, used to identify a block (<tt class="docutils literal"><span class="pre">mnkBlock</span></tt>). The default value is empty state and means &quot;absence of label&quot;
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L46"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L46" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MirNode">
<dt><pre><a href="mirtrees.html#MirNode"><span class="Identifier">MirNode</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">typ</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#PType"><span class="Identifier">PType</span></a>                <span class="Comment">## must be non-nil for operators, inputs, and sinks</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="mirtrees.html#MirNodeKind"><span class="Identifier">MirNodeKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">mnkProc</span><span class="Other">,</span> <span class="Identifier">mnkConst</span><span class="Other">,</span> <span class="Identifier">mnkGlobal</span><span class="Other">,</span> <span class="Identifier">mnkParam</span><span class="Other">,</span> <span class="Identifier">mnkLocal</span><span class="Other">:</span>
      <span class="Identifier">sym</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkField</span><span class="Other">,</span> <span class="Identifier">mnkPathNamed</span><span class="Other">,</span> <span class="Identifier">mnkPathVariant</span><span class="Other">:</span>
      <span class="Identifier">field</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkLiteral</span><span class="Other">:</span>
      <span class="Identifier">lit</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkTemp</span><span class="Other">:</span>
      <span class="Identifier">temp</span><span class="Operator">*</span><span class="Other">:</span> <a href="mirtrees.html#TempId"><span class="Identifier">TempId</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkPathPos</span><span class="Other">:</span>
      <span class="Identifier">position</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>      <span class="Comment">## the 0-based position of the field</span>
    
  <span class="Keyword">of</span> <span class="Identifier">mnkCall</span><span class="Other">:</span>
      <span class="Identifier">effects</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">set</span><span class="Other">[</span><a href="mirtrees.html#GeneralEffect"><span class="Identifier">GeneralEffect</span></a><span class="Other">]</span>

  <span class="Keyword">of</span> <span class="Identifier">mnkMagic</span><span class="Other">:</span>
      <span class="Identifier">magic</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#TMagic"><span class="Identifier">TMagic</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkOpParam</span><span class="Other">:</span>
      <span class="Identifier">param</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>         <span class="Comment">## the 0-based index of the enclosing region's parameter</span>
    
  <span class="Keyword">of</span> <span class="Identifier">mnkBlock</span><span class="Other">,</span> <span class="Identifier">mnkBreak</span><span class="Other">:</span>
      <span class="Identifier">label</span><span class="Operator">*</span><span class="Other">:</span> <a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a> <span class="Comment">## for a block, its label. A block always must always</span>
                      <span class="Comment">## have a valid label ('none' is disallowed).</span>
                      <span class="Comment">## for a break, the label of the block to break out of.</span>
                      <span class="Comment">## May be 'none', in which case it means &quot;exit the</span>
                      <span class="Comment">## enclosing 'repeat'&quot;</span>
    
  <span class="Keyword">of</span> <span class="Identifier">mnkEnd</span><span class="Other">:</span>
      <span class="Identifier">start</span><span class="Operator">*</span><span class="Other">:</span> <a href="mirtrees.html#MirNodeKind"><span class="Identifier">MirNodeKind</span></a>    <span class="Comment">## the kind of the corresponding start node</span>
    
  <span class="Keyword">of</span> <span class="Identifier">mnkPNode</span><span class="Other">:</span>
      <span class="Identifier">node</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a>

  <span class="Keyword">of</span> <span class="Identifier">mnkTag</span><span class="Other">:</span>
      <span class="Identifier">effect</span><span class="Operator">*</span><span class="Other">:</span> <a href="mirtrees.html#EffectKind"><span class="Identifier">EffectKind</span></a>    <span class="Comment">## the effect that happens when the operator the</span>
                             <span class="Comment">## tagged value is passed to is executed</span>
    
  <span class="Keyword">else</span><span class="Other">:</span>
      <span class="Identifier">len</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>

  </pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L266"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L266" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MirNodeKind">
<dt><pre><a href="mirtrees.html#MirNodeKind"><span class="Identifier">MirNodeKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">mnkProc</span><span class="Other">,</span>                  <span class="Comment">## procedure</span>
  <span class="Identifier">mnkConst</span><span class="Other">,</span>                 <span class="Comment">## named constant</span>
  <span class="Identifier">mnkGlobal</span><span class="Other">,</span>                <span class="Comment">## global location</span>
  <span class="Identifier">mnkParam</span><span class="Other">,</span>                 <span class="Comment">## parameter</span>
  <span class="Identifier">mnkLocal</span><span class="Other">,</span>                 <span class="Comment">## local location</span>
  <span class="Identifier">mnkTemp</span><span class="Other">,</span> <span class="Comment">## temporary; Semantics-wise, a ``mnkTemp`` is the same as a</span>
            <span class="Comment">## ``mnkLocal``, but a different namespace is used (``TempId``</span>
            <span class="Comment">## vs. ``PSym``). This allows for cheap introduction of locals</span>
  <span class="Identifier">mnkOpParam</span><span class="Other">,</span> <span class="Comment">## references a parameter of the enclosing region</span>
               <span class="Comment">## XXX: see if it's possible to merge this with ``mnkParam``,</span>
               <span class="Comment">##      by treating a procedure's body as a region itself</span>
  <span class="Identifier">mnkLiteral</span><span class="Other">,</span>               <span class="Comment">## literal data. Currently represented via a ``PNode``</span>
  <span class="Identifier">mnkType</span><span class="Other">,</span>                  <span class="Comment">## a type literal</span>
  <span class="Identifier">mnkNone</span><span class="Other">,</span> <span class="Comment">## the &quot;nothing&quot; value. Represents the absence of a value.</span>
            <span class="Comment">## To ease the back-to-``PNode`` translation, this node is</span>
            <span class="Comment">## currently allowed to have a non-nil type.</span>
  <span class="Identifier">mnkDef</span><span class="Other">,</span> <span class="Comment">## defines an entity and, if the entity is a location, starts</span>
           <span class="Comment">## its lifetime (if the entity is a location). If the entity</span>
           <span class="Comment">## is a location, the ``def`` can be either a *sink* or a</span>
           <span class="Comment">## statement -- it must be a statement otherwise</span>
  <span class="Identifier">mnkDefCursor</span><span class="Other">,</span> <span class="Comment">## starts the lifetime of a location that is non-owning. The</span>
                 <span class="Comment">## location may or may not contain a value and is not</span>
                 <span class="Comment">## responsible for destroying it</span>
                 <span class="Comment">## inputs: either a single value (no arg-block) or none</span>
  <span class="Identifier">mnkDefUnpack</span><span class="Other">,</span> <span class="Comment">## starts the lifetime of a location that owns a *tuple*</span>
                 <span class="Comment">## value but is not responsible for destroying it, as all</span>
                 <span class="Comment">## sub-values are moved out of it</span>
                 <span class="Comment">## **Warning**: this is a hack and it should be relied on as</span>
                 <span class="Comment">## little as possible. It's a workaround to support the</span>
                 <span class="Comment">## temporary tuple values introduced for destructuring.</span>
  <span class="Identifier">mnkFastAsgn</span><span class="Other">,</span> <span class="Comment">## ``fastAsgn(dst, src)``; assigns the `src` value to the location</span>
                <span class="Comment">## named by the lvalue `dst`. Neither the previous value in the</span>
                <span class="Comment">## destination location nor the source value are mutated in any</span>
                <span class="Comment">## way. No transfer of ownership happens.</span>
  <span class="Identifier">mnkAsgn</span><span class="Other">,</span> <span class="Comment">## ``asgn(dst, src)``; assigns the `src` value to the location</span>
            <span class="Comment">##  named by `dst`, also transferring onwership.</span>
  <span class="Identifier">mnkInit</span><span class="Other">,</span> <span class="Comment">## ``init(dst, src)``; similar to `asgn`, but with the</span>
            <span class="Comment">## guarantee that the destination contains no value prior</span>
  <span class="Identifier">mnkSwitch</span><span class="Other">,</span> <span class="Comment">## ``switch(x, y)``; changes the active branch of the record-case</span>
              <span class="Comment">## identified by the result of the ``pathVariant`` operation used</span>
              <span class="Comment">## as the `x` operand. `y` is the new discriminator value</span>
  <span class="Identifier">mnkPathNamed</span><span class="Other">,</span>             <span class="Comment">## access of a named field in a record</span>
  <span class="Identifier">mnkPathPos</span><span class="Other">,</span>               <span class="Comment">## access of a field in record via its position</span>
  <span class="Identifier">mnkPathArray</span><span class="Other">,</span>             <span class="Comment">## ``pathArray(x, i)``; array-like access</span>
  <span class="Identifier">mnkPathVariant</span><span class="Other">,</span> <span class="Comment">## access a field inside a tagged union</span>
                   <span class="Comment">## XXX: this is likely only a temporary solution. Each</span>
                   <span class="Comment">##      record-case part of an object should be its own</span>
                   <span class="Comment">##      dedicated object type, which can then be addressed</span>
                   <span class="Comment">##      as a normal field</span>
  <span class="Identifier">mnkAddr</span><span class="Other">,</span> <span class="Comment">## ``addr(x)``; creates a first-class unsafe alias/handle (i.e.</span>
            <span class="Comment">## pointer) from the input lvalue `x`</span>
  <span class="Identifier">mnkDeref</span><span class="Other">,</span> <span class="Comment">## ``deref(x)``; dereferences the pointer-like `x` (this</span>
             <span class="Comment">## *excludes* views), producing an lvalue that has same identity</span>
             <span class="Comment">## as the pointed-to location</span>
             <span class="Comment">## XXX: the possibility of invalid pointers (e.g. nil pointer) is</span>
             <span class="Comment">##      currently ignored</span>
  <span class="Identifier">mnkView</span><span class="Other">,</span>                  <span class="Comment">## ``view(x)``; creates a safe alias of the l-value 'x'</span>
  <span class="Identifier">mnkDerefView</span><span class="Other">,</span> <span class="Comment">## ``derefView(x)``; dereferences a view, producing the lvalue</span>
                 <span class="Comment">## named by it</span>
  <span class="Identifier">mnkStdConv</span><span class="Other">,</span> <span class="Comment">## ``stdConv(x)``; a standard conversion. Depending on the</span>
               <span class="Comment">## source and target type, lvalue-ness is preserved</span>
  <span class="Identifier">mnkConv</span><span class="Other">,</span> <span class="Comment">## ``conv(x)``; a conversion. Depending on the source and</span>
            <span class="Comment">## target type, lvalue-ness is preserved</span>
  <span class="Identifier">mnkCast</span><span class="Other">,</span> <span class="Comment">## ``cast(x)``; produces a new *instance* of the input value</span>
            <span class="Comment">## with a different type</span>
  <span class="Identifier">mnkCall</span><span class="Other">,</span> <span class="Comment">## ``call(p, ...)``; transfers control-flow (i.e. calls) the</span>
            <span class="Comment">## procedure that `p` evaluates to and passes the provided</span>
            <span class="Comment">## arguments</span>
  <span class="Identifier">mnkMagic</span><span class="Other">,</span>                 <span class="Comment">## ``magic(...)``; a call to a magic procedure</span>
  <span class="Identifier">mnkRaise</span><span class="Other">,</span> <span class="Comment">## ``raise(x)``; if `x` is a ``none`` node, reraises the</span>
             <span class="Comment">## currently active exception. If `x` is a value, transfers the</span>
             <span class="Comment">## ownership over it to the raise operation and transfers</span>
             <span class="Comment">## control-flow to the respective exception handler</span>
  <span class="Identifier">mnkTag</span><span class="Other">,</span> <span class="Comment">## ``tag[T](x)``; must only appear directly as the input to</span>
           <span class="Comment">## either a ``name`` sink. Marks evaluating the operator that</span>
           <span class="Comment">## has the result of the tag operation as input as having the</span>
           <span class="Comment">## specified effect on the location named by l-value `x`</span>
  <span class="Identifier">mnkConstr</span><span class="Other">,</span> <span class="Comment">## ``constr(...)``; constructs a new compound value made up of</span>
              <span class="Comment">## the input values. Whether the resulting value is owned</span>
              <span class="Comment">## depends on whether one the context it's used in</span>
  <span class="Identifier">mnkObjConstr</span><span class="Other">,</span> <span class="Comment">## ``objConstr(...)``; either heap-allocates and initializes</span>
                 <span class="Comment">## a new managed location, or constructs a new compound value</span>
                 <span class="Comment">## with named fields</span>
  <span class="Identifier">mnkArg</span><span class="Other">,</span> <span class="Comment">## binds either an instance of the input value or the value</span>
           <span class="Comment">## itself to an argument</span>
  <span class="Identifier">mnkName</span><span class="Other">,</span>                  <span class="Comment">## binds an lvalue to an argument</span>
  <span class="Identifier">mnkConsume</span><span class="Other">,</span> <span class="Comment">## similar to ``arg``, but also transfers ownership over the</span>
               <span class="Comment">## value from the source to the operation taking the argument</span>
               <span class="Comment">## as input. The source value *must* be an owned value.</span>
               <span class="Comment">## **Note**: the transfer of ownership happens when the</span>
               <span class="Comment">## value is bound to the argument, not when control-flow reaches</span>
               <span class="Comment">## the target operation</span>
  <span class="Identifier">mnkVoid</span><span class="Other">,</span> <span class="Comment">## the 'void' sink. Discards the input value without doing</span>
            <span class="Comment">## anything else with it</span>
  <span class="Identifier">mnkField</span><span class="Other">,</span> <span class="Comment">## may only appear as a sub-node to ``mnkObjConstr``. Identifies</span>
             <span class="Comment">## the record field the corresponding argument is assigned to</span>
  <span class="Identifier">mnkArgBlock</span><span class="Other">,</span> <span class="Comment">## an argument block groups the operands to an operation</span>
                <span class="Comment">## together, and is required whenever an operation takes more</span>
                <span class="Comment">## than one operand -- whether an argumnet block is required for</span>
                <span class="Comment">## when there's only a single operand depends on the</span>
                <span class="Comment">## corresponding operation</span>
  <span class="Identifier">mnkRegion</span><span class="Other">,</span> <span class="Comment">## a region is something that accepts arguments (provided by a</span>
              <span class="Comment">## </span>
              <span class="Comment">## mandatory arg-block) and performs some logic that is required</span>
              <span class="Comment">## to </span>
              <span class="Comment">## only have the effects described by the argument tags. This</span>
              <span class="Comment">## also </span>
              <span class="Comment">## includes control-flow effects, e.g. raising an exception</span>
              <span class="Comment">## that is not handled inside the region. Right now, </span>
              <span class="Comment">## definitions</span>
              <span class="Comment">## inside a region are allowed, but this might change in the</span>
              <span class="Comment">## future</span>
  <span class="Identifier">mnkStmtList</span><span class="Other">,</span>              <span class="Comment">## groups statements together</span>
  <span class="Identifier">mnkScope</span><span class="Other">,</span> <span class="Comment">## the only way to introduce a scope. Scopes can be nested and</span>
             <span class="Comment">## dictate the lifetime of the locals that are directly enclosed</span>
             <span class="Comment">## by them</span>
  <span class="Identifier">mnkIf</span><span class="Other">,</span> <span class="Comment">## ``if(x)``; depending on the runtime value of `x`, transfers</span>
          <span class="Comment">## control-flow to either the start or the end of the code, the</span>
          <span class="Comment">## ``if`` spans</span>
  <span class="Identifier">mnkCase</span><span class="Other">,</span> <span class="Comment">## ``case(x)``; depending on the runtime value of `x`, transfers</span>
            <span class="Comment">## control-flow to the start of one of its branches</span>
  <span class="Identifier">mnkRepeat</span><span class="Other">,</span> <span class="Comment">## once control-flow reaches this statement, control-flow is</span>
              <span class="Comment">## transfered to start of its body. Once control-flow reaches</span>
              <span class="Comment">## the end of the body, it is transfered back to the start. In</span>
              <span class="Comment">## other words, repeats its body an infinite number of times</span>
  <span class="Identifier">mnkTry</span><span class="Other">,</span> <span class="Comment">## associates one one or more statements (the first sub-node)</span>
           <span class="Comment">## with: an exception handler, a finalizer, or both</span>
  <span class="Identifier">mnkExcept</span><span class="Other">,</span> <span class="Comment">## defines and attaches an exception handler to a ``try`` block.</span>
              <span class="Comment">## Only one handler can be attached to a ``try`` block</span>
  <span class="Identifier">mnkFinally</span><span class="Other">,</span> <span class="Comment">## defines a finalizer in the context of a ``try`` construct. All</span>
               <span class="Comment">## control-flow that either leaves the body of the ``try`` and</span>
               <span class="Comment">## does not target the exception handler (if one is present) or</span>
               <span class="Comment">## that leaves the exception handler is redirected to inside the</span>
               <span class="Comment">## finalizer first. Once control-flow reaches the end of a</span>
               <span class="Comment">## finalizer, it is transferred to the original destination. Only</span>
               <span class="Comment">## one finalizer can be attached to a ``try`` block</span>
  <span class="Identifier">mnkBlock</span><span class="Other">,</span> <span class="Comment">## attaches a label to a span of code. If control-flow reaches</span>
             <span class="Comment">## this statement, it is transferred to the start of the body.</span>
             <span class="Comment">## Once control-flow reaches the end of a ``block``, it is</span>
             <span class="Comment">## transferred to the next statement/operation following the</span>
             <span class="Comment">## block</span>
  <span class="Identifier">mnkBreak</span><span class="Other">,</span> <span class="Comment">## if a non-nil label is provided, transfers control-flow to the</span>
             <span class="Comment">## statement/operation following after the ``block`` with the</span>
             <span class="Comment">## given label. If no label is provided, control-flow is</span>
             <span class="Comment">## transferred to the exit of the enclosing ``repeat`` (it is</span>
             <span class="Comment">## required that there exists one)</span>
  <span class="Identifier">mnkReturn</span><span class="Other">,</span> <span class="Comment">## if the code-fragment represents the body of a procedure,</span>
              <span class="Comment">## transfers control-flow back to the caller</span>
  <span class="Identifier">mnkBranch</span><span class="Other">,</span>                <span class="Comment">## defines a branch of an ``mnkExcept`` or ``mnkCase``</span>
  <span class="Identifier">mnkAsm</span><span class="Other">,</span> <span class="Comment">## corresponds to the high-level ``asm`` statement. Takes an</span>
           <span class="Comment">## argument block as input, but has itself no meaning at the MIR</span>
           <span class="Comment">## level</span>
  <span class="Identifier">mnkEmit</span><span class="Other">,</span> <span class="Comment">## corresponds to the ``emit`` directive. In the context of the</span>
            <span class="Comment">## MIR, has the same behaviour as ``mnkAsm``</span>
  <span class="Identifier">mnkEnd</span><span class="Other">,</span> <span class="Comment">## marks the physical end of a sub-tree. Has no semantic</span>
           <span class="Comment">## meaning -- it's only required to know where a sub-tree ends</span>
  <span class="Identifier">mnkPNode</span> <span class="Comment">## depending on the context, either statement or something else.</span>
           <span class="Comment">## If it appears as a statement, it is expected to not have any</span>
           <span class="Comment">## obsersvable effects</span>
           <span class="Comment">## XXX: eventually, everything that currently requires</span>
           <span class="Comment">##      ``mnkPNode`` (for example, ``nkAsmStmt``, emit, etc.)</span>
           <span class="Comment">##      should be expressable directly in the IR</span></pre></dt>
<dd>

Users of <tt class="docutils literal"><span class="pre">MirNodeKind</span></tt> should not depend on the absolute or relative order between the enum values
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L50"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L50" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MirNodeSeq">
<dt><pre><a href="mirtrees.html#MirNodeSeq"><span class="Identifier">MirNodeSeq</span></a> <span class="Other">=</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="mirtrees.html#MirNode"><span class="Identifier">MirNode</span></a><span class="Other">]</span></pre></dt>
<dd>

A buffer of MIR nodes without any further meaning
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L311"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L311" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MirTree">
<dt><pre><a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a> <span class="Other">=</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="mirtrees.html#MirNode"><span class="Identifier">MirNode</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L310"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L310" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="NodeIndex">
<dt><pre><a href="mirtrees.html#NodeIndex"><span class="Identifier">NodeIndex</span></a> <span class="Other">=</span> <span class="Identifier">uint32</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L318"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L318" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="NodeInstance">
<dt><pre><a href="mirtrees.html#NodeInstance"><span class="Identifier">NodeInstance</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">range</span><span class="Other">[</span><span class="DecNumber">0'u32</span> <span class="Operator">..</span> <span class="Identifier">high</span><span class="Other">(</span><span class="Identifier">uint32</span><span class="Other">)</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Other">]</span></pre></dt>
<dd>

refers to a node as just a node. Used to communicate that only the node itself is of interest, not what it represents
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L319"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L319" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="NodePosition">
<dt><pre><a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">int32</span></pre></dt>
<dd>

refers to a <tt class="docutils literal"><span class="pre">MirNode</span></tt> of which the position relative to other nodes has meaning. Uses a signed integer as the base
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L322"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L322" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="Operation">
<dt><pre><a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">uint32</span></pre></dt>
<dd>

refers to a <tt class="docutils literal"><span class="pre">MirNode</span></tt> that represents an operation
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L325"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L325" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="OpValue">
<dt><pre><a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">uint32</span></pre></dt>
<dd>

refers to a value an operation produces
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L327"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L327" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="TempId">
<dt><pre><a href="mirtrees.html#TempId"><span class="Identifier">TempId</span></a> <span class="Other">=</span> <span class="Keyword">distinct</span> <span class="Identifier">uint32</span></pre></dt>
<dd>

ID of a temporary location. A temporary location is created and inserted by the compiler. The only difference to other named locations is that temporaries are allowed to be elided (by an optimization pass, for example) if it's deemed to have no effect on the codes' semantics
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L41"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L41" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<div id="AllNodeKinds">
<dt><pre><a href="mirtrees.html#AllNodeKinds"><span class="Identifier">AllNodeKinds</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkProc</span><span class="Other">..</span><span class="DecNumber">mnkPNode</span><span class="Other">}</span></pre></dt>
<dd>

Convenience set containing all existing node kinds
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L331"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L331" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ArgumentNodes">
<dt><pre><a href="mirtrees.html#ArgumentNodes"><span class="Identifier">ArgumentNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkArg</span><span class="Other">,</span> <span class="DecNumber">mnkName</span><span class="Other">,</span> <span class="DecNumber">mnkConsume</span><span class="Other">}</span></pre></dt>
<dd>

Node kinds only allowed in an output context directly inside an arg-block
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L361"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L361" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="AtomNodes">
<dt><pre><a href="mirtrees.html#AtomNodes"><span class="Identifier">AtomNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkProc</span><span class="Other">..</span><span class="DecNumber">mnkNone</span><span class="Other">,</span> <span class="DecNumber">mnkFastAsgn</span><span class="Other">..</span><span class="DecNumber">mnkConstr</span><span class="Other">,</span> <span class="DecNumber">mnkArg</span><span class="Other">..</span><span class="DecNumber">mnkField</span><span class="Other">,</span>
             <span class="DecNumber">mnkBreak</span><span class="Other">..</span><span class="DecNumber">mnkReturn</span><span class="Other">,</span> <span class="DecNumber">mnkAsm</span><span class="Other">..</span><span class="DecNumber">mnkPNode</span><span class="Other">}</span></pre></dt>
<dd>

Nodes that aren't sub-trees
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L343"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L343" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="DefNodes">
<dt><pre><a href="mirtrees.html#DefNodes"><span class="Identifier">DefNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkDef</span><span class="Other">,</span> <span class="DecNumber">mnkDefCursor</span><span class="Other">,</span> <span class="DecNumber">mnkDefUnpack</span><span class="Other">}</span></pre></dt>
<dd>

Node kinds that represent definition statements (i.e. something that introduces a named entity)
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L334"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L334" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="InOutNodes">
<dt><pre><a href="mirtrees.html#InOutNodes"><span class="Identifier">InOutNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkMagic</span><span class="Other">,</span> <span class="DecNumber">mnkCall</span><span class="Other">,</span> <span class="DecNumber">mnkPathNamed</span><span class="Other">..</span><span class="DecNumber">mnkPathVariant</span><span class="Other">,</span> <span class="DecNumber">mnkConstr</span><span class="Other">,</span>
              <span class="DecNumber">mnkObjConstr</span><span class="Other">,</span> <span class="DecNumber">mnkView</span><span class="Other">,</span> <span class="DecNumber">mnkTag</span><span class="Other">,</span> <span class="DecNumber">mnkCast</span><span class="Other">,</span> <span class="DecNumber">mnkDeref</span><span class="Other">,</span> <span class="DecNumber">mnkAddr</span><span class="Other">,</span>
              <span class="DecNumber">mnkDerefView</span><span class="Other">,</span> <span class="DecNumber">mnkStdConv</span><span class="Other">,</span> <span class="DecNumber">mnkConv</span><span class="Other">}</span></pre></dt>
<dd>

Operations that act as both input and output
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L349"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L349" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="InputNodes">
<dt><pre><a href="mirtrees.html#InputNodes"><span class="Identifier">InputNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkProc</span><span class="Other">..</span><span class="DecNumber">mnkNone</span><span class="Other">,</span> <span class="DecNumber">mnkArgBlock</span><span class="Other">}</span></pre></dt>
<dd>

Nodes that can appear in the position of inputs/operands but that themselves don't have any operands
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L346"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L346" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="NoLabel">
<dt><pre><a href="mirtrees.html#NoLabel"><span class="Identifier">NoLabel</span></a> <span class="Other">=</span> <span class="DecNumber">0'u</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L377"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L377" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="OutputNodes">
<dt><pre><a href="mirtrees.html#OutputNodes"><span class="Identifier">OutputNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkDef</span><span class="Other">..</span><span class="DecNumber">mnkSwitch</span><span class="Other">,</span> <span class="DecNumber">mnkRaise</span><span class="Other">,</span> <span class="DecNumber">mnkVoid</span><span class="Other">,</span> <span class="DecNumber">mnkRegion</span><span class="Other">,</span> <span class="DecNumber">mnkIf</span><span class="Other">..</span><span class="DecNumber">mnkCase</span><span class="Other">,</span>
               <span class="DecNumber">mnkAsm</span><span class="Other">..</span><span class="DecNumber">mnkEmit</span><span class="Other">}</span></pre></dt>
<dd>

Node kinds that are allowed in every output context
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L356"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L356" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="SingleInputNodes">
<dt><pre><a href="mirtrees.html#SingleInputNodes"><span class="Identifier">SingleInputNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkAddr</span><span class="Other">..</span><span class="DecNumber">mnkDeref</span><span class="Other">,</span> <span class="DecNumber">mnkDerefView</span><span class="Other">,</span> <span class="DecNumber">mnkConv</span><span class="Other">..</span><span class="DecNumber">mnkCast</span><span class="Other">,</span>
                    <span class="DecNumber">mnkRaise</span><span class="Other">..</span><span class="DecNumber">mnkTag</span><span class="Other">,</span> <span class="DecNumber">mnkArg</span><span class="Other">..</span><span class="DecNumber">mnkVoid</span><span class="Other">,</span> <span class="DecNumber">mnkIf</span><span class="Other">..</span><span class="DecNumber">mnkCase</span><span class="Other">}</span></pre></dt>
<dd>

Operators and statements that must not have argument-blocks as input
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L365"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L365" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="SourceNodes">
<dt><pre><a href="mirtrees.html#SourceNodes"><span class="Identifier">SourceNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkProc</span><span class="Other">..</span><span class="DecNumber">mnkNone</span><span class="Other">,</span> <span class="DecNumber">mnkPathNamed</span><span class="Other">..</span><span class="DecNumber">mnkMagic</span><span class="Other">,</span> <span class="DecNumber">mnkTag</span><span class="Other">..</span><span class="DecNumber">mnkObjConstr</span><span class="Other">,</span>
               <span class="DecNumber">mnkArgBlock</span><span class="Other">}</span></pre></dt>
<dd>

Nodes than can appear in the position of inputs/operands
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L353"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L353" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="StmtNodes">
<dt><pre><a href="mirtrees.html#StmtNodes"><span class="Identifier">StmtNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkDef</span><span class="Other">..</span><span class="DecNumber">mnkDefUnpack</span><span class="Other">,</span> <span class="DecNumber">mnkScope</span><span class="Other">,</span> <span class="DecNumber">mnkRepeat</span><span class="Other">..</span><span class="DecNumber">mnkTry</span><span class="Other">,</span>
             <span class="DecNumber">mnkBlock</span><span class="Other">..</span><span class="DecNumber">mnkReturn</span><span class="Other">,</span> <span class="DecNumber">mnkPNode</span><span class="Other">}</span></pre></dt>
<dd>

Nodes that act as statements syntax-wise
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L370"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L370" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="SubTreeNodes">
<dt><pre><a href="mirtrees.html#SubTreeNodes"><span class="Identifier">SubTreeNodes</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkDef</span><span class="Other">..</span><span class="DecNumber">mnkDefUnpack</span><span class="Other">,</span> <span class="DecNumber">mnkObjConstr</span><span class="Other">,</span> <span class="DecNumber">mnkArgBlock</span><span class="Other">..</span><span class="DecNumber">mnkBlock</span><span class="Other">,</span>
                <span class="DecNumber">mnkBranch</span><span class="Other">}</span></pre></dt>
<dd>

Nodes that mark the start of a sub-tree. They're always matched with a corrsponding <tt class="docutils literal"><span class="pre">mnkEnd</span></tt> node
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L338"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L338" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="SymbolLike">
<dt><pre><a href="mirtrees.html#SymbolLike"><span class="Identifier">SymbolLike</span></a> <span class="Other">=</span> <span class="Other">{</span><span class="DecNumber">mnkProc</span><span class="Other">,</span> <span class="DecNumber">mnkConst</span><span class="Other">,</span> <span class="DecNumber">mnkGlobal</span><span class="Other">,</span> <span class="DecNumber">mnkParam</span><span class="Other">,</span> <span class="DecNumber">mnkLocal</span><span class="Other">}</span></pre></dt>
<dd>

Nodes for which the <tt class="docutils literal"><span class="pre"><span class="Identifier">sym</span></span></tt> field is available
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L374"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L374" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="<=,NodePosition,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#%3C%3D%2CNodePosition%2CNodePosition"><span class="Identifier">`&lt;=`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L416"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L416" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="<,NodePosition,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#%3C%2CNodePosition%2CNodePosition"><span class="Identifier">`&lt;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L415"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L415" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="==,LabelId,LabelId">
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CLabelId%2CLabelId"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L380"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L380" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="==,NodePosition,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CNodePosition%2CNodePosition"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L417"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L417" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="==,Operation,Operation">
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2COperation%2COperation"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L419"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L419" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="==,TempId,TempId">
<dt><pre><span class="Keyword">func</span> <a href="#%3D%3D%2CTempId%2CTempId"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="mirtrees.html#TempId"><span class="Identifier">TempId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L379"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L379" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="in,NodePosition,MirTree">
<dt><pre><span class="Keyword">func</span> <a href="#in%2CNodePosition%2CMirTree"><span class="Identifier">`in`</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L421"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L421" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="child,MirTree,NodePosition,int">
<dt><pre><span class="Keyword">func</span> <a href="#child%2CMirTree%2CNodePosition%2Cint"><span class="Identifier">child</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">index</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">lent</span> <a href="mirtrees.html#MirNode"><span class="Identifier">MirNode</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L522"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L522" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="childIdx,MirTree,NodePosition,int">
<dt><pre><span class="Keyword">func</span> <a href="#childIdx%2CMirTree%2CNodePosition%2Cint"><span class="Identifier">childIdx</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">index</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Returns the position of the child node at index <tt class="docutils literal"><span class="pre"><span class="Identifier">index</span></span></tt>. <tt class="docutils literal"><span class="pre"><span class="Identifier">index</span></span></tt> <em>must</em> refer to a valid sub-node -- no validation is performed
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L515"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L515" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="computeSpan,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#computeSpan%2CMirTree%2CNodePosition"><span class="Identifier">computeSpan</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Slice</span><span class="Other">[</span><a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

If <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> refers to a leaf node, returns a span with the <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> as the single item. Otherwise, computes and returns the span of nodes part of the sub-tree at <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt>. The 'end' node is included.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L490"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L490" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="fetchArgs,MirTree,Operation,openArray[NodePosition]">
<dt><pre><span class="Keyword">func</span> <a href="#fetchArgs%2CMirTree%2COperation%2CopenArray%5BNodePosition%5D"><span class="Identifier">fetchArgs</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">;</span> <span class="Identifier">result</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">]</span><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Collects all operands of <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">result</span></span></tt>. The length of <tt class="docutils literal"><span class="pre"><span class="Identifier">result</span></span></tt> must match the number of operands
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L596"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L596" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="findEnd,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#findEnd%2CMirTree%2CNodePosition"><span class="Identifier">findEnd</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Finds the corresponding <tt class="docutils literal"><span class="pre">end</span></tt> node for the node <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> that starts a sub-tree
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L509"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L509" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="findParent,MirTree,NodePosition,MirNodeKind">
<dt><pre><span class="Keyword">func</span> <a href="#findParent%2CMirTree%2CNodePosition%2CMirNodeKind"><span class="Identifier">findParent</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">start</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">kind</span><span class="Other">:</span> <a href="mirtrees.html#MirNodeKind"><span class="Identifier">MirNodeKind</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Searches for the first enclosing sub-tree node of kind <tt class="docutils literal"><span class="pre"><span class="Identifier">kind</span></span></tt> (which is <em>required</em> to exist). The node at <tt class="docutils literal"><span class="pre"><span class="Identifier">start</span></span></tt> is itself also considered during the search
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L534"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L534" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getStart,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#getStart%2CMirTree%2CNodePosition"><span class="Identifier">getStart</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

If <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> refers to an <tt class="docutils literal"><span class="pre">end</span></tt> node, returns the corresponding start node -- <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> otherwise
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L526"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L526" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="hasInput,MirTree,Operation">
<dt><pre><span class="Keyword">func</span> <a href="#hasInput%2CMirTree%2COperation"><span class="Identifier">hasInput</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L640"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L640" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="isNone,LabelId">
<dt><pre><span class="Keyword">func</span> <a href="#isNone%2CLabelId"><span class="Identifier">isNone</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L385"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L385" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="isSome,LabelId">
<dt><pre><span class="Keyword">func</span> <a href="#isSome%2CLabelId"><span class="Identifier">isSome</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L382"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L382" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="numArgs,MirTree,Operation">
<dt><pre><span class="Keyword">func</span> <a href="#numArgs%2CMirTree%2COperation"><span class="Identifier">numArgs</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Computes the number of arguments in the argument-block used as the input to <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L620"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L620" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="operand,MirTree,Operation,Natural">
<dt><pre><span class="Keyword">func</span> <a href="#operand%2CMirTree%2COperation%2CNatural"><span class="Identifier">operand</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">;</span> <span class="Identifier">opr</span><span class="Other">:</span> <span class="Identifier">Natural</span><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Returns the <tt class="docutils literal"><span class="pre"><span class="Identifier">opr</span></span></tt>th operand to the operation <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt>. It is expected that the operation has at least <tt class="docutils literal"><span class="pre"><span class="Identifier">opr</span></span></tt> + 1 operands
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L544"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L544" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="operands,MirTree,Operation,Slice[int],openArray[OpValue]">
<dt><pre><span class="Keyword">func</span> <a href="#operands%2CMirTree%2COperation%2CSlice%5Bint%5D%2CopenArray%5BOpValue%5D"><span class="Identifier">operands</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">;</span> <span class="Identifier">slice</span><span class="Other">:</span> <span class="Identifier">Slice</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">;</span>
              <span class="Identifier">result</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">openArray</span><span class="Other">[</span><a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Collects the operands of <tt class="docutils literal"><span class="pre"><span class="Identifier">op</span></span></tt> identified by <tt class="docutils literal"><span class="pre"><span class="Identifier">slice</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">result</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L568"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L568" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="parent,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#parent%2CMirTree%2CNodePosition"><span class="Identifier">parent</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L427"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L427" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="parentEnd,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#parentEnd%2CMirTree%2CNodePosition"><span class="Identifier">parentEnd</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L437"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L437" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="previous,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#previous%2CMirTree%2CNodePosition"><span class="Identifier">previous</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Computes the index of the previous sibling node of <tt class="docutils literal"><span class="pre"><span class="Identifier">x</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L472"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L472" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="sibling,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#sibling%2CMirTree%2CNodePosition"><span class="Identifier">sibling</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Computes the index of the next sibling node of <tt class="docutils literal"><span class="pre"><span class="Identifier">x</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L451"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L451" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="start,MirTree,NodePosition">
<dt><pre><span class="Keyword">func</span> <a href="#start%2CMirTree%2CNodePosition"><span class="Identifier">start</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Find the corresponding start node for an <tt class="docutils literal"><span class="pre">mnkEnd</span></tt> node
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L497"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L497" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="unaryOperand,MirTree,Operation">
<dt><pre><span class="Keyword">func</span> <a href="#unaryOperand%2CMirTree%2COperation"><span class="Identifier">unaryOperand</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">op</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L635"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L635" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="15">
<h1><a class="toc-backref" href="#15">Iterators</a></h1>
<dl class="item">
<div id="lpairs.i,seq[T]">
<dt><pre><span class="Keyword">iterator</span> <a href="#lpairs.i%2Cseq%5BT%5D"><span class="Identifier">lpairs</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><span class="Identifier">int</span><span class="Other">,</span> <span class="Identifier">lent</span> <span class="Identifier">T</span><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L669"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L669" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="pairs.i,MirTree">
<dt><pre><span class="Keyword">iterator</span> <a href="#pairs.i%2CMirTree"><span class="Identifier">pairs</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">,</span> <span class="Identifier">lent</span> <a href="mirtrees.html#MirNode"><span class="Identifier">MirNode</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L652"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L652" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="subNodes.i,MirTree,NodePosition">
<dt><pre><span class="Keyword">iterator</span> <a href="#subNodes.i%2CMirTree%2CNodePosition"><span class="Identifier">subNodes</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Iterates over and yields all direct child nodes of <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L659"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L659" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="16">
<h1><a class="toc-backref" href="#16">Converters</a></h1>
<dl class="item">
<div id="toOp.c,OpValue">
<dt><pre><span class="Keyword">converter</span> <a href="#toOp.c%2COpValue"><span class="Identifier">toOp</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

For convenience, a converter is provided for this conversion. Each <tt class="docutils literal"><span class="pre">OpValue</span></tt> is always backed by an <tt class="docutils literal"><span class="pre">Operation</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L410"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L410" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<div id="+.t,NodePosition,int">
<dt><pre><span class="Keyword">template</span> <a href="#%2B.t%2CNodePosition%2Cint"><span class="Identifier">`+`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L401"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L401" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="-.t,NodePosition,int">
<dt><pre><span class="Keyword">template</span> <a href="#-.t%2CNodePosition%2Cint"><span class="Identifier">`-`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">;</span> <span class="Identifier">b</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L398"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L398" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="[].t,MirTree,">
<dt><pre><span class="Keyword">template</span> <a href="#%5B%5D.t%2CMirTree%2C"><span class="Identifier">`[]`</span></a><span class="Other">(</span><span class="Identifier">tree</span><span class="Other">:</span> <a href="mirtrees.html#MirTree"><span class="Identifier">MirTree</span></a><span class="Other">;</span>
              <span class="Identifier">i</span><span class="Other">:</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a> <span class="Operator">|</span> <a href="mirtrees.html#NodeInstance"><span class="Identifier">NodeInstance</span></a> <span class="Operator">|</span> <a href="mirtrees.html#Operation"><span class="Identifier">Operation</span></a> <span class="Operator">|</span> <a href="mirtrees.html#OpValue"><span class="Identifier">OpValue</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L424"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L424" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="[].t,LabelId">
<dt><pre><span class="Keyword">template</span> <a href="#%5B%5D.t%2CLabelId"><span class="Identifier">`[]`</span></a><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <a href="mirtrees.html#LabelId"><span class="Identifier">LabelId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">uint32</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L388"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L388" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="dec.t,NodePosition">
<dt><pre><span class="Keyword">template</span> <a href="#dec.t%2CNodePosition"><span class="Identifier">dec</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L404"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L404" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="inc.t,NodePosition">
<dt><pre><span class="Keyword">template</span> <a href="#inc.t%2CNodePosition"><span class="Identifier">inc</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="mirtrees.html#NodePosition"><span class="Identifier">NodePosition</span></a><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L407"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L407" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="indexLike.t,typedesc[NodeInstance]">
<dt><pre><span class="Keyword">template</span> <a href="#indexLike.t%2Ctypedesc%5BNodeInstance%5D"><span class="Identifier">indexLike</span></a><span class="Other">(</span><span class="Operator">_</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><a href="mirtrees.html#NodeInstance"><span class="Identifier">NodeInstance</span></a><span class="Other">]</span><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/c824ed1e19de4f58660b516d7f1bf4bc97159542/compiler/mir/mirtrees.nim#L393"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/mirtrees.nim#L393" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2023-07-18 00:00:00 UTC</small>
      </div>
    </div>
  </div>
</div>
</body>
</html>
