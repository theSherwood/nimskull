<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>compiler/mir/proto_mir</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">compiler/mir/proto_mir</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="style_guide.html">Style guide</a></li>
      <li><a href="contributing.html">Contribution guide</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li><a href="../theindex.html">Index</a></li>
      <li><a href="compiler/../theindex.html">Compiler docs</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#ExprKind"
    title="ExprKind = enum
  Literal, Lvalue, Rvalue,  ## non-owning rvalue that can only be copied
  OwnedRvalue">ExprKind</a></li>
  <li><a class="reference" href="#Keep"
    title="Keep = enum
  kDontCare,                ## lvalue-ness doesn't matter
  kLvalue, ## whatever the item is translated to, it must have lvalue
            ## semantics
  kMutLvalue ## whatever the item is translated to, it must have mutable
             ## lvalue semantics">Keep</a></li>
  <li><a class="reference" href="#ProtoItem"
    title="ProtoItem = object
  orig* {.cursor.}: PNode    ## the originating-from AST node
  typ* {.cursor.}: PType     ## the type of the sub-expression. Can be different from that of `orig`
  keep*: Keep ## for lvalue items, what needs to be preserved for the resulting code
              ## to still have the correct behaviour. Ignored for all other items
  case kind*: ProtoItemKind
  of pirLocal, pirGlobal, pirParam, pirConst, pirProc:
      sym* {.cursor.}: PSym

  of pirTupleAccess:
      pos*: uint32

  of pirFieldAccess, pirVariantAccess:
      field* {.cursor.}: PSym

  of pirArrayAccess, pirSeqAccess, pirCheckedArrayAccess, pirCheckedSeqAccess:
      index*: int            ## the item index of the index operand expression
    
  of pirCheckedVariantAccess:
      nodeIndex*: int        ## the check's index in the originating-from ``nkCheckedFieldAccess``
    
  of pirCheckedObjConv:
      check* {.cursor.}: PType ## the type to emit a run-time check with
    
  of pirArrayConstr, pirClosureConstr, pirTupleConstr, pirObjConstr:
      owning*: bool          ## whether the construction produces an owning aggregate value
    
  else:
      nil">ProtoItem</a></li>
  <li><a class="reference" href="#ProtoItemKind"
    title="ProtoItemKind = enum
  pirLiteral,               ## some literal value or type
  pirProc, pirParam, pirLocal, pirGlobal, pirConst, pirDeref, pirViewDeref,
  pirTupleAccess, pirFieldAccess, pirArrayAccess, pirSeqAccess,
  pirVariantAccess, pirLvalueConv, pirCheckedArrayAccess, pirCheckedSeqAccess,
  pirCheckedVariantAccess, pirCheckedObjConv, pirAddr, pirView, pirConv,
  pirStdConv, pirCast, pirToSlice, pirToSubSlice, pirCall, pirChckRange,
  pirStringToCString, pirCStringToString, pirComplex, ## a complex expression, such as an if-expression
  pirStmtList, pirCopy, pirMove, pirDestructiveMove, pirSink, pirClosureConstr,
  pirSetConstr, pirObjConstr, pirRefConstr, pirTupleConstr, pirArrayConstr, pirConstExpr, ## an expression that needs to be turned into an anonymous
                                                                                           ## constant
  pirMat,                   ## materialize the value into an owning temporary
  pirMatCursor,             ## materialize the value into non-owning temporary
  pirMatLvalue               ## materialize the lvalue into a temporary reference">ProtoItemKind</a></li>
  <li><a class="reference" href="#TranslateCtx"
    title="TranslateCtx = object
  config: ConfigRef
  options: TOptions
  pickVm: bool               ## pick the ``nimvm`` branch when faced with a when statement">TranslateCtx</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">classify
      <li><a class="reference" href="#classify%2Cseq%5BProtoItem%5D"
    title="classify(e: seq[ProtoItem]): ExprKind">classify(e: seq[ProtoItem]): ExprKind</a></li>
  <li><a class="reference" href="#classify%2Cseq%5BProtoItem%5D%2Cint"
    title="classify(e: seq[ProtoItem]; i: int): ExprKind">classify(e: seq[ProtoItem]; i: int): ExprKind</a></li>

  </ul>
  <ul class="simple nested-toc-section">exprToPmir
      <li><a class="reference" href="#exprToPmir%2CTOptions%2CConfigRef%2Cbool%2CPNode%2Cbool%2Cbool"
    title="exprToPmir(options: TOptions; config: ConfigRef; pickVm: bool; n: PNode;
           sink, mutable: bool): seq[ProtoItem]">exprToPmir(options: TOptions; config: ConfigRef; pickVm: bool; n: PNode;
           sink, mutable: bool): seq[ProtoItem]</a></li>

  </ul>
  <ul class="simple nested-toc-section">selectWhenBranch
      <li><a class="reference" href="#selectWhenBranch%2CPNode%2Cbool"
    title="selectWhenBranch(n: PNode; isNimvm: bool): PNode">selectWhenBranch(n: PNode; isNimvm: bool): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">symbolToPmir
      <li><a class="reference" href="#symbolToPmir%2CPSym"
    title="symbolToPmir(s: PSym): range[pirProc .. pirConst]">symbolToPmir(s: PSym): range[pirProc .. pirConst]</a></li>

  </ul>
  <ul class="simple nested-toc-section">typ
      <li><a class="reference" href="#typ%2Cseq%5BProtoItem%5D"
    title="typ(n: seq[ProtoItem]): PType">typ(n: seq[ProtoItem]): PType</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantConsumeable
      <li><a class="reference" href="#wantConsumeable%2Cseq%5BProtoItem%5D"
    title="wantConsumeable(e: var seq[ProtoItem])">wantConsumeable(e: var seq[ProtoItem])</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantOwning
      <li><a class="reference" href="#wantOwning%2Cseq%5BProtoItem%5D%2Cbool"
    title="wantOwning(e: var seq[ProtoItem]; forceTemp: bool)">wantOwning(e: var seq[ProtoItem]; forceTemp: bool)</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantPure
      <li><a class="reference" href="#wantPure%2Cseq%5BProtoItem%5D"
    title="wantPure(e: var seq[ProtoItem])">wantPure(e: var seq[ProtoItem])</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantShallow
      <li><a class="reference" href="#wantShallow%2Cseq%5BProtoItem%5D"
    title="wantShallow(e: var seq[ProtoItem])">wantShallow(e: var seq[ProtoItem])</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantStable
      <li><a class="reference" href="#wantStable%2Cseq%5BProtoItem%5D"
    title="wantStable(e: var seq[ProtoItem])">wantStable(e: var seq[ProtoItem])</a></li>

  </ul>
  <ul class="simple nested-toc-section">wantValue
      <li><a class="reference" href="#wantValue%2Cseq%5BProtoItem%5D"
    title="wantValue(e: var seq[ProtoItem])">wantValue(e: var seq[ProtoItem])</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>Implements the proto-MIR itself and the routines for translating AST to the proto-MIR.</p>
<p>The proto-MIR is an intermediate representation that only covers a subset of expressions. It acts as an intermediate between AST and the MIR, offloading some attribute inheritance/synthesis from the main <a class="reference external" href="mirgen.html">AST-to-MIR translation</a>.</p>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="../ast/ast_types.html">../ast/ast_types</a>, <a class="reference external" href="../ast/ast_query.html">../ast/ast_query</a>, <a class="reference external" href="../ast/types.html">../ast/types</a>, <a class="reference external" href="../ast/trees.html">../ast/trees</a>, <a class="reference external" href="../front/in_options.html">../front/in_options</a>, <a class="reference external" href="../front/options.html">../front/options</a>, <a class="reference external" href="../sem/ast_analysis.html">../sem/ast_analysis</a>, <a class="reference external" href="../utils/idioms.html">../utils/idioms</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="ExprKind">
<dt><pre><a href="proto_mir.html#ExprKind"><span class="Identifier">ExprKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">Literal</span><span class="Other">,</span> <span class="Identifier">Lvalue</span><span class="Other">,</span> <span class="Identifier">Rvalue</span><span class="Other">,</span>  <span class="Comment">## non-owning rvalue that can only be copied</span>
  <span class="Identifier">OwnedRvalue</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L157"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L157" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="Keep">
<dt><pre><a href="proto_mir.html#Keep"><span class="Identifier">Keep</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">kDontCare</span><span class="Other">,</span>                <span class="Comment">## lvalue-ness doesn't matter</span>
  <span class="Identifier">kLvalue</span><span class="Other">,</span> <span class="Comment">## whatever the item is translated to, it must have lvalue</span>
            <span class="Comment">## semantics</span>
  <span class="Identifier">kMutLvalue</span> <span class="Comment">## whatever the item is translated to, it must have mutable</span>
             <span class="Comment">## lvalue semantics</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L98"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L98" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ProtoItem">
<dt><pre><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">orig</span><span class="Operator">*</span> {.<span class="Identifier">cursor</span>.}<span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a>    <span class="Comment">## the originating-from AST node</span>
  <span class="Identifier">typ</span><span class="Operator">*</span> {.<span class="Identifier">cursor</span>.}<span class="Other">:</span> <a href="../ast/ast_types.html#PType"><span class="Identifier">PType</span></a>     <span class="Comment">## the type of the sub-expression. Can be different from that of `orig`</span>
  <span class="Identifier">keep</span><span class="Operator">*</span><span class="Other">:</span> <a href="proto_mir.html#Keep"><span class="Identifier">Keep</span></a> <span class="Comment">## for lvalue items, what needs to be preserved for the resulting code</span>
              <span class="Comment">## to still have the correct behaviour. Ignored for all other items</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="proto_mir.html#ProtoItemKind"><span class="Identifier">ProtoItemKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">pirLocal</span><span class="Other">,</span> <span class="Identifier">pirGlobal</span><span class="Other">,</span> <span class="Identifier">pirParam</span><span class="Other">,</span> <span class="Identifier">pirConst</span><span class="Other">,</span> <span class="Identifier">pirProc</span><span class="Other">:</span>
      <span class="Identifier">sym</span><span class="Operator">*</span> {.<span class="Identifier">cursor</span>.}<span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a>

  <span class="Keyword">of</span> <span class="Identifier">pirTupleAccess</span><span class="Other">:</span>
      <span class="Identifier">pos</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint32</span>

  <span class="Keyword">of</span> <span class="Identifier">pirFieldAccess</span><span class="Other">,</span> <span class="Identifier">pirVariantAccess</span><span class="Other">:</span>
      <span class="Identifier">field</span><span class="Operator">*</span> {.<span class="Identifier">cursor</span>.}<span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a>

  <span class="Keyword">of</span> <span class="Identifier">pirArrayAccess</span><span class="Other">,</span> <span class="Identifier">pirSeqAccess</span><span class="Other">,</span> <span class="Identifier">pirCheckedArrayAccess</span><span class="Other">,</span> <span class="Identifier">pirCheckedSeqAccess</span><span class="Other">:</span>
      <span class="Identifier">index</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>            <span class="Comment">## the item index of the index operand expression</span>
    
  <span class="Keyword">of</span> <span class="Identifier">pirCheckedVariantAccess</span><span class="Other">:</span>
      <span class="Identifier">nodeIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>        <span class="Comment">## the check's index in the originating-from ``nkCheckedFieldAccess``</span>
    
  <span class="Keyword">of</span> <span class="Identifier">pirCheckedObjConv</span><span class="Other">:</span>
      <span class="Identifier">check</span><span class="Operator">*</span> {.<span class="Identifier">cursor</span>.}<span class="Other">:</span> <a href="../ast/ast_types.html#PType"><span class="Identifier">PType</span></a> <span class="Comment">## the type to emit a run-time check with</span>
    
  <span class="Keyword">of</span> <span class="Identifier">pirArrayConstr</span><span class="Other">,</span> <span class="Identifier">pirClosureConstr</span><span class="Other">,</span> <span class="Identifier">pirTupleConstr</span><span class="Other">,</span> <span class="Identifier">pirObjConstr</span><span class="Other">:</span>
      <span class="Identifier">owning</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>          <span class="Comment">## whether the construction produces an owning aggregate value</span>
    
  <span class="Keyword">else</span><span class="Other">:</span>
      <span class="Keyword">nil</span>

  </pre></dt>
<dd>

<p>A chain of <tt class="docutils literal"><span class="pre">ProtoItem</span></tt>s forms a proto-MIR expression. Multiple sub- expressions can be part of a single buffer, with each one delimited by a terminal item.</p>
<p>The items are ordered as the AST expression would be displayed. Take, for example:</p>
<pre class="listing"><span class="Identifier">a</span><span class="Operator">.</span><span class="Identifier">b</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Identifier">c</span></pre><p>The item representing <tt class="docutils literal"><span class="pre"><span class="Identifier">a</span></span></tt> comes first, then the dot (i.e., the field access), then <tt class="docutils literal"><span class="pre"><span class="Identifier">b</span></span></tt>, etc.</p>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
All fields of ref types are cursors, in order to eliminate costly copies and destructions. This is safe, because the AST is guaranteed to outlive the proto-MIR items.</div>

&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L105"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L105" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ProtoItemKind">
<dt><pre><a href="proto_mir.html#ProtoItemKind"><span class="Identifier">ProtoItemKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">pirLiteral</span><span class="Other">,</span>               <span class="Comment">## some literal value or type</span>
  <span class="Identifier">pirProc</span><span class="Other">,</span> <span class="Identifier">pirParam</span><span class="Other">,</span> <span class="Identifier">pirLocal</span><span class="Other">,</span> <span class="Identifier">pirGlobal</span><span class="Other">,</span> <span class="Identifier">pirConst</span><span class="Other">,</span> <span class="Identifier">pirDeref</span><span class="Other">,</span> <span class="Identifier">pirViewDeref</span><span class="Other">,</span>
  <span class="Identifier">pirTupleAccess</span><span class="Other">,</span> <span class="Identifier">pirFieldAccess</span><span class="Other">,</span> <span class="Identifier">pirArrayAccess</span><span class="Other">,</span> <span class="Identifier">pirSeqAccess</span><span class="Other">,</span>
  <span class="Identifier">pirVariantAccess</span><span class="Other">,</span> <span class="Identifier">pirLvalueConv</span><span class="Other">,</span> <span class="Identifier">pirCheckedArrayAccess</span><span class="Other">,</span> <span class="Identifier">pirCheckedSeqAccess</span><span class="Other">,</span>
  <span class="Identifier">pirCheckedVariantAccess</span><span class="Other">,</span> <span class="Identifier">pirCheckedObjConv</span><span class="Other">,</span> <span class="Identifier">pirAddr</span><span class="Other">,</span> <span class="Identifier">pirView</span><span class="Other">,</span> <span class="Identifier">pirConv</span><span class="Other">,</span>
  <span class="Identifier">pirStdConv</span><span class="Other">,</span> <span class="Identifier">pirCast</span><span class="Other">,</span> <span class="Identifier">pirToSlice</span><span class="Other">,</span> <span class="Identifier">pirToSubSlice</span><span class="Other">,</span> <span class="Identifier">pirCall</span><span class="Other">,</span> <span class="Identifier">pirChckRange</span><span class="Other">,</span>
  <span class="Identifier">pirStringToCString</span><span class="Other">,</span> <span class="Identifier">pirCStringToString</span><span class="Other">,</span> <span class="Identifier">pirComplex</span><span class="Other">,</span> <span class="Comment">## a complex expression, such as an if-expression</span>
  <span class="Identifier">pirStmtList</span><span class="Other">,</span> <span class="Identifier">pirCopy</span><span class="Other">,</span> <span class="Identifier">pirMove</span><span class="Other">,</span> <span class="Identifier">pirDestructiveMove</span><span class="Other">,</span> <span class="Identifier">pirSink</span><span class="Other">,</span> <span class="Identifier">pirClosureConstr</span><span class="Other">,</span>
  <span class="Identifier">pirSetConstr</span><span class="Other">,</span> <span class="Identifier">pirObjConstr</span><span class="Other">,</span> <span class="Identifier">pirRefConstr</span><span class="Other">,</span> <span class="Identifier">pirTupleConstr</span><span class="Other">,</span> <span class="Identifier">pirArrayConstr</span><span class="Other">,</span> <span class="Identifier">pirConstExpr</span><span class="Other">,</span> <span class="Comment">## an expression that needs to be turned into an anonymous</span>
                                                                                           <span class="Comment">## constant</span>
  <span class="Identifier">pirMat</span><span class="Other">,</span>                   <span class="Comment">## materialize the value into an owning temporary</span>
  <span class="Identifier">pirMatCursor</span><span class="Other">,</span>             <span class="Comment">## materialize the value into non-owning temporary</span>
  <span class="Identifier">pirMatLvalue</span>               <span class="Comment">## materialize the lvalue into a temporary reference</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L28"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L28" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="TranslateCtx">
<dt><pre><a href="proto_mir.html#TranslateCtx"><span class="Identifier">TranslateCtx</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">config</span><span class="Other">:</span> <a href="../front/options.html#ConfigRef"><span class="Identifier">ConfigRef</span></a>
  <span class="Identifier">options</span><span class="Other">:</span> <a href="../front/in_options.html#TOptions"><span class="Identifier">TOptions</span></a>
  <span class="Identifier">pickVm</span><span class="Other">:</span> <span class="Identifier">bool</span>               <span class="Comment">## pick the ``nimvm`` branch when faced with a when statement</span>
  </pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L151"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L151" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="classify,seq[ProtoItem]">
<dt><pre><span class="Keyword">func</span> <a href="#classify%2Cseq%5BProtoItem%5D"><span class="Identifier">classify</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="proto_mir.html#ExprKind"><span class="Identifier">ExprKind</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Returns the kind of the given proto-MIR expression.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L218"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L218" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="classify,seq[ProtoItem],int">
<dt><pre><span class="Keyword">func</span> <a href="#classify%2Cseq%5BProtoItem%5D%2Cint"><span class="Identifier">classify</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">i</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <a href="proto_mir.html#ExprKind"><span class="Identifier">ExprKind</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Returns the kind of the given proto-MIR expression.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L188"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L188" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="exprToPmir,TOptions,ConfigRef,bool,PNode,bool,bool">
<dt><pre><span class="Keyword">proc</span> <a href="#exprToPmir%2CTOptions%2CConfigRef%2Cbool%2CPNode%2Cbool%2Cbool"><span class="Identifier">exprToPmir</span></a><span class="Other">(</span><span class="Identifier">options</span><span class="Other">:</span> <a href="../front/in_options.html#TOptions"><span class="Identifier">TOptions</span></a><span class="Other">;</span> <span class="Identifier">config</span><span class="Other">:</span> <a href="../front/options.html#ConfigRef"><span class="Identifier">ConfigRef</span></a><span class="Other">;</span> <span class="Identifier">pickVm</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">;</span> <span class="Identifier">n</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span>
                <span class="Identifier">sink</span><span class="Other">,</span> <span class="Identifier">mutable</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Translates the expression <tt class="docutils literal"><span class="pre"><span class="Identifier">n</span></span></tt> and all its relevant sub-expression into the corresponding proto-MIR representation, already performing some necessary lowering.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L810"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L810" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="selectWhenBranch,PNode,bool">
<dt><pre><span class="Keyword">func</span> <a href="#selectWhenBranch%2CPNode%2Cbool"><span class="Identifier">selectWhenBranch</span></a><span class="Other">(</span><span class="Identifier">n</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span> <span class="Identifier">isNimvm</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L445"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L445" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="symbolToPmir,PSym">
<dt><pre><span class="Keyword">func</span> <a href="#symbolToPmir%2CPSym"><span class="Identifier">symbolToPmir</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">range</span><span class="Other">[</span><span class="Identifier">pirProc</span> <span class="Operator">..</span> <span class="Identifier">pirConst</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L539"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L539" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="typ,seq[ProtoItem]">
<dt><pre><span class="Keyword">func</span> <a href="#typ%2Cseq%5BProtoItem%5D"><span class="Identifier">typ</span></a><span class="Other">(</span><span class="Identifier">n</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PType"><span class="Identifier">PType</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L185"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L185" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantConsumeable,seq[ProtoItem]">
<dt><pre><span class="Keyword">func</span> <a href="#wantConsumeable%2Cseq%5BProtoItem%5D"><span class="Identifier">wantConsumeable</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> is an expression that can be used in a context requiring a certainly-consumeable value (either a materialized temporary or a literal value).
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L379"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L379" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantOwning,seq[ProtoItem],bool">
<dt><pre><span class="Keyword">func</span> <a href="#wantOwning%2Cseq%5BProtoItem%5D%2Cbool"><span class="Identifier">wantOwning</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">forceTemp</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> produces an owning value. If <tt class="docutils literal"><span class="pre"><span class="Identifier">forceTemp</span></span></tt> is true, a temporary is materialized even if the expression would already produce an owning value.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L346"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L346" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantPure,seq[ProtoItem]">
<dt><pre><span class="Keyword">proc</span> <a href="#wantPure%2Cseq%5BProtoItem%5D"><span class="Identifier">wantPure</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> is a pure expression. An impure expression is turned into a pure expression by materializing it into a temporary and then using the temporary in its place.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L399"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L399" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantShallow,seq[ProtoItem]">
<dt><pre><span class="Keyword">proc</span> <a href="#wantShallow%2Cseq%5BProtoItem%5D"><span class="Identifier">wantShallow</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> is something that can be assigned to a non-owning destination.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L424"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L424" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantStable,seq[ProtoItem]">
<dt><pre><span class="Keyword">proc</span> <a href="#wantStable%2Cseq%5BProtoItem%5D"><span class="Identifier">wantStable</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> is a stable lvalue expression. Rvalues and literal values are committed to temporaries.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L431"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L431" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="wantValue,seq[ProtoItem]">
<dt><pre><span class="Keyword">proc</span> <a href="#wantValue%2Cseq%5BProtoItem%5D"><span class="Identifier">wantValue</span></a><span class="Other">(</span><span class="Identifier">e</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="proto_mir.html#ProtoItem"><span class="Identifier">ProtoItem</span></a><span class="Other">]</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Makes sure <tt class="docutils literal"><span class="pre"><span class="Identifier">e</span></span></tt> is a literal value or lvalue expression.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/9be395f752aa23c01e7214987e0b2386609ae821/compiler/mir/proto_mir.nim#L414"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/mir/proto_mir.nim#L414" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-02-26 00:00:00 UTC</small>
      </div>
    </div>
  </div>
</div>
</body>
</html>
