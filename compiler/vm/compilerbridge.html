<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>compiler/vm/compilerbridge</title>
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css">

<script type="text/javascript" src="../dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">compiler/vm/compilerbridge</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="style_guide.html">Style guide</a></li>
      <li><a href="contributing.html">Contribution guide</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li><a href="../theindex.html">Index</a></li>
      <li><a href="compiler/../theindex.html">Compiler docs</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#EvalContext"
    title="EvalContext = object of TPassContext
  vm*: TCtx
  jit*: JitState
  oldErrorCount: int">EvalContext</a></li>
  <li><a class="reference" href="#ExecErrorKind"
    title="ExecErrorKind = enum
  execErrorVm, execErrorVmGen, execErrorQuit">ExecErrorKind</a></li>
  <li><a class="reference" href="#ExecErrorReport"
    title="ExecErrorReport = object
  stackTrace*: VmStackTrace  ## The VM stack-trace
  location*: TLineInfo       ## Source location of the trace
  instLoc*: InstantiationInfo ## report instantiation location
  case kind*: ExecErrorKind  ## kind of error execution of vm code gen
  of execErrorVm:
      vmErr*: VmEvent

  of execErrorVmGen:
      genErr*: VmGenDiag

  of execErrorQuit:
      exitCode*: int">ExecErrorReport</a></li>
  <li><a class="reference" href="#ExecutionResult"
    title="ExecutionResult = Result[PNode, ExecErrorReport]">ExecutionResult</a></li>
  <li><a class="reference" href="#PEvalContext"
    title="PEvalContext = ref EvalContext">PEvalContext</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#evalPass"
    title="evalPass = (open: myOpen, process: myProcess, close: myClose, isFrontend: false)">evalPass</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">dumpVmProfilerData
      <li><a class="reference" href="#dumpVmProfilerData%2CModuleGraph"
    title="dumpVmProfilerData(graph: ModuleGraph): string">dumpVmProfilerData(graph: ModuleGraph): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">evalConstExpr
      <li><a class="reference" href="#evalConstExpr%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode"
    title="evalConstExpr(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode): PNode">evalConstExpr(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">evalMacroCall
      <li><a class="reference" href="#evalMacroCall%2CJitState%2CTCtx%2CPNode%2CPNode%2CPSym"
    title="evalMacroCall(jit: var JitState; c: var TCtx; call, args: PNode; sym: PSym): PNode">evalMacroCall(jit: var JitState; c: var TCtx; call, args: PNode; sym: PSym): PNode</a></li>
  <li><a class="reference" href="#evalMacroCall%2CPSym%2CIdGenerator%2CModuleGraph%2Cref.int%2CPNode%2CPNode%2CPSym"
    title="evalMacroCall(module: PSym; idgen: IdGenerator; g: ModuleGraph;
              templInstCounter: ref int; call, args: PNode; sym: PSym): PNode">evalMacroCall(module: PSym; idgen: IdGenerator; g: ModuleGraph;
              templInstCounter: ref int; call, args: PNode; sym: PSym): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">evalStaticExpr
      <li><a class="reference" href="#evalStaticExpr%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode%2CPSym"
    title="evalStaticExpr(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode;
               prc: PSym): PNode">evalStaticExpr(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode;
               prc: PSym): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">evalStaticStmt
      <li><a class="reference" href="#evalStaticStmt%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode%2CPSym"
    title="evalStaticStmt(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode;
               prc: PSym): PNode">evalStaticStmt(module: PSym; idgen: IdGenerator; g: ModuleGraph; e: PNode;
               prc: PSym): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">execProc
      <li><a class="reference" href="#execProc%2CJitState%2CTCtx%2CPSym%2CopenArray%5BPNode%5D"
    title="execProc(jit: var JitState; c: var TCtx; sym: PSym; args: openArray[PNode]): PNode">execProc(jit: var JitState; c: var TCtx; sym: PSym; args: openArray[PNode]): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">getGlobalValue
      <li><a class="reference" href="#getGlobalValue%2CEvalContext%2CPSym"
    title="getGlobalValue(c: EvalContext; s: PSym): PNode">getGlobalValue(c: EvalContext; s: PSym): PNode</a></li>

  </ul>
  <ul class="simple nested-toc-section">registerAdditionalOps
      <li><a class="reference" href="#registerAdditionalOps%2CTCtx%2Cbool"
    title="registerAdditionalOps(c: var TCtx; disallowDangerous: bool)">registerAdditionalOps(c: var TCtx; disallowDangerous: bool)</a></li>

  </ul>
  <ul class="simple nested-toc-section">setGlobalValue
      <li><a class="reference" href="#setGlobalValue%2CEvalContext%2CPSym%2CPNode"
    title="setGlobalValue(c: var EvalContext; s: PSym; val: PNode)">setGlobalValue(c: var EvalContext; s: PSym; val: PNode)</a></li>

  </ul>
  <ul class="simple nested-toc-section">setupCompileTimeVar
      <li><a class="reference" href="#setupCompileTimeVar%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode"
    title="setupCompileTimeVar(module: PSym; idgen: IdGenerator; g: ModuleGraph; n: PNode)">setupCompileTimeVar(module: PSym; idgen: IdGenerator; g: ModuleGraph; n: PNode)</a></li>

  </ul>
  <ul class="simple nested-toc-section">setupGlobalCtx
      <li><a class="reference" href="#setupGlobalCtx%2CPSym%2CModuleGraph%2CIdGenerator"
    title="setupGlobalCtx(module: PSym; graph: ModuleGraph; idgen: IdGenerator)">setupGlobalCtx(module: PSym; graph: ModuleGraph; idgen: IdGenerator)</a></li>

  </ul>

  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>This module implements the interface between the VM and the rest of the compiler. The VM is only interacted with through this interface. Do note that right now, the compiler still indirectly interacts with the VM through the <tt class="docutils literal"><span class="pre">vmdef.TCtx</span></tt> object.</p>
<p>The interface includes:</p>
<ul class="simple"><li>the procedure that sets up a VM instance for use during compilation (<tt class="docutils literal"><span class="pre">setupGlobalCtx</span></tt>)</li>
<li>the routines for executing expressions, statements, and macros with the VM</li>
<li>an implementation of the <tt class="docutils literal"><span class="pre">passes</span></tt> interface that executes processed code with the VM (<tt class="docutils literal"><span class="pre">evalPass</span></tt>)</li>
<li>the VM-related compilerapi</li>
</ul>
what follows is an implementation of the <tt class="docutils literal"><span class="pre">passes</span></tt> interface that evaluates the code directly inside the VM. It is used for NimScript execution and by the <tt class="docutils literal"><span class="pre">nimeval</span></tt> interface</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="../ast/ast_types.html">../ast/ast_types</a>, <a class="reference external" href="../ast/ast.html">../ast/ast</a>, <a class="reference external" href="../ast/errorhandling.html">../ast/errorhandling</a>, <a class="reference external" href="../ast/errorreporting.html">../ast/errorreporting</a>, <a class="reference external" href="../ast/lineinfos.html">../ast/lineinfos</a>, <a class="reference external" href="../ast/trees.html">../ast/trees</a>, <a class="reference external" href="../front/msgs.html">../front/msgs</a>, <a class="reference external" href="../front/options.html">../front/options</a>, <a class="reference external" href="../modules/modulegraphs.html">../modules/modulegraphs</a>, <a class="reference external" href="../sem/passes.html">../sem/passes</a>, <a class="reference external" href="../sem/semcomptime.html">../sem/semcomptime</a>, <a class="reference external" href="../sem/transf.html">../sem/transf</a>, <a class="reference external" href="../utils/debugutils.html">../utils/debugutils</a>, <a class="reference external" href="../utils/idioms.html">../utils/idioms</a>, <a class="reference external" href="vmcompilerserdes.html">vmcompilerserdes</a>, <a class="reference external" href="vmdef.html">vmdef</a>, <a class="reference external" href="vmhooks.html">vmhooks</a>, <a class="reference external" href="vmjit.html">vmjit</a>, <a class="reference external" href="vmlegacy.html">vmlegacy</a>, <a class="reference external" href="vmops.html">vmops</a>, <a class="reference external" href="vmprofiler.html">vmprofiler</a>, <a class="reference external" href="vmserialize.html">vmserialize</a>, <a class="reference external" href="vmtypegen.html">vmtypegen</a>, <a class="reference external" href="vmutils.html">vmutils</a>, <a class="reference external" href="vm.html">vm</a>, <a class="reference external" href="vmgen.html">vmgen</a>, <a class="reference external" href="../ast/reports.html">../ast/reports</a>, <a class="reference external" href="../ast/reports_vm.html">../ast/reports_vm</a>, <a class="reference external" href="../ast/reports_sem.html">../ast/reports_sem</a>, <a class="reference external" href="../ast/reports_internal.html">../ast/reports_internal</a>, <a class="reference external" href="../ast/report_enums.html">../ast/report_enums</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="EvalContext">
<dt><pre><a href="compilerbridge.html#EvalContext"><span class="Identifier">EvalContext</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="../modules/modulegraphs.html#TPassContext"><span class="Identifier">TPassContext</span></a>
  <span class="Identifier">vm</span><span class="Operator">*</span><span class="Other">:</span> <a href="vmdef.html#TCtx"><span class="Identifier">TCtx</span></a>
  <span class="Identifier">jit</span><span class="Operator">*</span><span class="Other">:</span> <a href="vmjit.html#JitState"><span class="Identifier">JitState</span></a>
  <span class="Identifier">oldErrorCount</span><span class="Other">:</span> <span class="Identifier">int</span>
</pre></dt>
<dd>

All state required to on-demand translate AST to VM bytecode and execute it. An <tt class="docutils literal"><span class="pre">EvalContext</span></tt> instance makes up everything that is required for running code at compile-time.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L94"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L94" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ExecErrorKind">
<dt><pre><a href="compilerbridge.html#ExecErrorKind"><span class="Identifier">ExecErrorKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">execErrorVm</span><span class="Other">,</span> <span class="Identifier">execErrorVmGen</span><span class="Other">,</span> <span class="Identifier">execErrorQuit</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L74"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L74" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ExecErrorReport">
<dt><pre><a href="compilerbridge.html#ExecErrorReport"><span class="Identifier">ExecErrorReport</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">stackTrace</span><span class="Operator">*</span><span class="Other">:</span> <a href="vmdef.html#VmStackTrace"><span class="Identifier">VmStackTrace</span></a>  <span class="Comment">## The VM stack-trace</span>
  <span class="Identifier">location</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/lineinfos.html#TLineInfo"><span class="Identifier">TLineInfo</span></a>       <span class="Comment">## Source location of the trace</span>
  <span class="Identifier">instLoc</span><span class="Operator">*</span><span class="Other">:</span> <a href="../ast/lineinfos.html#InstantiationInfo"><span class="Identifier">InstantiationInfo</span></a> <span class="Comment">## report instantiation location</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Operator">*</span><span class="Other">:</span> <a href="compilerbridge.html#ExecErrorKind"><span class="Identifier">ExecErrorKind</span></a>  <span class="Comment">## kind of error execution of vm code gen</span>
  <span class="Keyword">of</span> <span class="Identifier">execErrorVm</span><span class="Other">:</span>
      <span class="Identifier">vmErr</span><span class="Operator">*</span><span class="Other">:</span> <a href="vmdef.html#VmEvent"><span class="Identifier">VmEvent</span></a>

  <span class="Keyword">of</span> <span class="Identifier">execErrorVmGen</span><span class="Other">:</span>
      <span class="Identifier">genErr</span><span class="Operator">*</span><span class="Other">:</span> <a href="vmdef.html#VmGenDiag"><span class="Identifier">VmGenDiag</span></a>

  <span class="Keyword">of</span> <span class="Identifier">execErrorQuit</span><span class="Other">:</span>
      <span class="Identifier">exitCode</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>

  </pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L79"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L79" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ExecutionResult">
<dt><pre><a href="compilerbridge.html#ExecutionResult"><span class="Identifier">ExecutionResult</span></a> <span class="Other">=</span> <span class="Identifier">Result</span><span class="Other">[</span><a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">,</span> <a href="compilerbridge.html#ExecErrorReport"><span class="Identifier">ExecErrorReport</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L91"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L91" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="PEvalContext">
<dt><pre><a href="compilerbridge.html#PEvalContext"><span class="Identifier">PEvalContext</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <a href="compilerbridge.html#EvalContext"><span class="Identifier">EvalContext</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L93"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L93" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<div id="evalPass">
<dt><pre><a href="compilerbridge.html#evalPass"><span class="Identifier">evalPass</span></a> <span class="Other">=</span> <span class="Other">(</span><span class="Identifier">open</span><span class="Other">:</span> <span class="Identifier">myOpen</span><span class="Other">,</span> <span class="Identifier">process</span><span class="Other">:</span> <span class="Identifier">myProcess</span><span class="Other">,</span> <span class="Identifier">close</span><span class="Other">:</span> <span class="Identifier">myClose</span><span class="Other">,</span> <span class="Identifier">isFrontend</span><span class="Other">:</span> <span class="DecNumber">false</span><span class="Other">)</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L719"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L719" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="dumpVmProfilerData,ModuleGraph">
<dt><pre><span class="Keyword">proc</span> <a href="#dumpVmProfilerData%2CModuleGraph"><span class="Identifier">dumpVmProfilerData</span></a><span class="Other">(</span><span class="Identifier">graph</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Dumps the profiler data collected by the profiler of the VM instance associated with <tt class="docutils literal"><span class="pre"><span class="Identifier">graph</span></span></tt> to a string.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L600"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L600" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="evalConstExpr,PSym,IdGenerator,ModuleGraph,PNode">
<dt><pre><span class="Keyword">proc</span> <a href="#evalConstExpr%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode"><span class="Identifier">evalConstExpr</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">;</span> <span class="Identifier">g</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span> <span class="Identifier">e</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.
    <span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span>
                     <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
                     <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
                     <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
                     <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L510"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L510" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="evalMacroCall,JitState,TCtx,PNode,PNode,PSym">
<dt><pre><span class="Keyword">proc</span> <a href="#evalMacroCall%2CJitState%2CTCtx%2CPNode%2CPNode%2CPSym"><span class="Identifier">evalMacroCall</span></a><span class="Other">(</span><span class="Identifier">jit</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="vmjit.html#JitState"><span class="Identifier">JitState</span></a><span class="Other">;</span> <span class="Identifier">c</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="vmdef.html#TCtx"><span class="Identifier">TCtx</span></a><span class="Other">;</span> <span class="Identifier">call</span><span class="Other">,</span> <span class="Identifier">args</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span> <span class="Identifier">sym</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Evaluates a call to the macro <tt class="docutils literal"><span class="pre"><span class="Identifier">sym</span></span></tt> with arguments <tt class="docutils literal"><span class="pre"><span class="Identifier">arg</span></span></tt> with the VM.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">call</span></span></tt> is the original call expression, which is used as the <tt class="docutils literal"><span class="pre">wrongNode</span></tt> in case of an error, as the node returned by the <tt class="docutils literal"><span class="pre">callsite</span></tt> macro API procedure, and for providing line information.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L535"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L535" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="evalMacroCall,PSym,IdGenerator,ModuleGraph,ref.int,PNode,PNode,PSym">
<dt><pre><span class="Keyword">proc</span> <a href="#evalMacroCall%2CPSym%2CIdGenerator%2CModuleGraph%2Cref.int%2CPNode%2CPNode%2CPSym"><span class="Identifier">evalMacroCall</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">;</span> <span class="Identifier">g</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span>
                   <span class="Identifier">templInstCounter</span><span class="Other">:</span> <span class="Keyword">ref</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">call</span><span class="Other">,</span> <span class="Identifier">args</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span> <span class="Identifier">sym</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Similar to the other <tt class="docutils literal"><span class="pre">evalMacroCall</span></tt> overload, but also updates the compile-time execution context with the provided <tt class="docutils literal"><span class="pre"><span class="Identifier">module</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">idgen</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">g</span></span></tt>, and <tt class="docutils literal"><span class="pre"><span class="Identifier">templInstCounter</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L588"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L588" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="evalStaticExpr,PSym,IdGenerator,ModuleGraph,PNode,PSym">
<dt><pre><span class="Keyword">proc</span> <a href="#evalStaticExpr%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode%2CPSym"><span class="Identifier">evalStaticExpr</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">;</span> <span class="Identifier">g</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span> <span class="Identifier">e</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span>
                    <span class="Identifier">prc</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span>
    <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L513"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L513" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="evalStaticStmt,PSym,IdGenerator,ModuleGraph,PNode,PSym">
<dt><pre><span class="Keyword">proc</span> <a href="#evalStaticStmt%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode%2CPSym"><span class="Identifier">evalStaticStmt</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">;</span> <span class="Identifier">g</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span> <span class="Identifier">e</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">;</span>
                    <span class="Identifier">prc</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span>
    <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L516"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L516" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="execProc,JitState,TCtx,PSym,openArray[PNode]">
<dt><pre><span class="Keyword">proc</span> <a href="#execProc%2CJitState%2CTCtx%2CPSym%2CopenArray%5BPNode%5D"><span class="Identifier">execProc</span></a><span class="Other">(</span><span class="Identifier">jit</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="vmjit.html#JitState"><span class="Identifier">JitState</span></a><span class="Other">;</span> <span class="Identifier">c</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="vmdef.html#TCtx"><span class="Identifier">TCtx</span></a><span class="Other">;</span> <span class="Identifier">sym</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">args</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L613"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L613" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getGlobalValue,EvalContext,PSym">
<dt><pre><span class="Keyword">proc</span> <a href="#getGlobalValue%2CEvalContext%2CPSym"><span class="Identifier">getGlobalValue</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="compilerbridge.html#EvalContext"><span class="Identifier">EvalContext</span></a><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">)</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Does not perform type checking, so ensure that <tt class="docutils literal"><span class="pre"><span class="Identifier">s</span><span class="Operator">.</span><span class="Identifier">typ</span></span></tt> matches the global's type
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L670"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L670" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="registerAdditionalOps,TCtx,bool">
<dt><pre><span class="Keyword">proc</span> <a href="#registerAdditionalOps%2CTCtx%2Cbool"><span class="Identifier">registerAdditionalOps</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="vmdef.html#TCtx"><span class="Identifier">TCtx</span></a><span class="Other">;</span> <span class="Identifier">disallowDangerous</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Convenience proc used for setting up the overrides relevant during compile-time execution. If <tt class="docutils literal"><span class="pre"><span class="Identifier">disallowDangerous</span></span></tt> is set to 'true', all operations that are able to modify the host's environment are replaced with no-ops
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L409"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L409" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="setGlobalValue,EvalContext,PSym,PNode">
<dt><pre><span class="Keyword">proc</span> <a href="#setGlobalValue%2CEvalContext%2CPSym%2CPNode"><span class="Identifier">setGlobalValue</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="compilerbridge.html#EvalContext"><span class="Identifier">EvalContext</span></a><span class="Other">;</span> <span class="Identifier">s</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">val</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Does not do type checking so ensure the <tt class="docutils literal"><span class="pre"><span class="Identifier">val</span></span></tt> matches the <tt class="docutils literal"><span class="pre"><span class="Identifier">s</span><span class="Operator">.</span><span class="Identifier">typ</span></span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L680"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L680" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="setupCompileTimeVar,PSym,IdGenerator,ModuleGraph,PNode">
<dt><pre><span class="Keyword">proc</span> <a href="#setupCompileTimeVar%2CPSym%2CIdGenerator%2CModuleGraph%2CPNode"><span class="Identifier">setupCompileTimeVar</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">;</span> <span class="Identifier">g</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span>
                         <span class="Identifier">n</span><span class="Other">:</span> <a href="../ast/ast_types.html#PNode"><span class="Identifier">PNode</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">ERecoverableError</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">ResultErrorRef[system.void]</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vmdef.VmGenDiag]</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[compilerbridge.ExecErrorReport]</span><span class="Other">,</span>
    <span class="Identifier">ResultErrorRef[vm.VmException]</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">ReadDirEffect</span><span class="Other">,</span>
    <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L519"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L519" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="setupGlobalCtx,PSym,ModuleGraph,IdGenerator">
<dt><pre><span class="Keyword">proc</span> <a href="#setupGlobalCtx%2CPSym%2CModuleGraph%2CIdGenerator"><span class="Identifier">setupGlobalCtx</span></a><span class="Other">(</span><span class="Identifier">module</span><span class="Other">:</span> <a href="../ast/ast_types.html#PSym"><span class="Identifier">PSym</span></a><span class="Other">;</span> <span class="Identifier">graph</span><span class="Other">:</span> <a href="../modules/modulegraphs.html#ModuleGraph"><span class="Identifier">ModuleGraph</span></a><span class="Other">;</span> <span class="Identifier">idgen</span><span class="Other">:</span> <a href="../ast/ast_idgen.html#IdGenerator"><span class="Identifier">IdGenerator</span></a><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-works/nimskull/tree/388ea316352ee82b8c737bcc045d07cb3289cfdc/compiler/vm/compilerbridge.nim#L447"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-works/nimskull/edit/devel/compiler/vm/compilerbridge.nim#L447" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2024-02-10 00:00:00 UTC</small>
      </div>
    </div>
  </div>
</div>
</body>
</html>
